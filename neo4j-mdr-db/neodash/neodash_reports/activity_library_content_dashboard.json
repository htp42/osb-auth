{
  "title": "Activity Library Dashboard",
  "version": "2.4",
  "settings": {
    "pagenumber": 0,
    "editable": true,
    "fullscreenEnabled": false,
    "parameters": {
      "neodash_activity_name": "",
      "neodash_activity_name_display": "",
      "neodash_activityinstance_name": "",
      "neodash_activityinstance_name_display": "",
      "neodash_activitygroup_name_display": "",
      "neodash_activitysubgroup_name_display": "",
      "neodash_activityinstance_adam_param_code": "",
      "neodash_activityinstance_adam_param_code_display": "",
      "neodash_ctcodelist_submission_value": "",
      "neodash_ctcodelist_submission_value_display": "",
      "neodash_ctterm_nci_preferred_name": "",
      "neodash_ctterm_nci_preferred_name_display": "",
      "neodash_activityinstance_nci_preferred_name": "",
      "neodash_activityinstance_nci_preferred_name_display": "",
      "neodash_activityinstance_name_submission_value": "",
      "neodash_activityinstance_name_submission_value_display": "",
      "neodash_activity_instance": "",
      "undefined_display": "",
      "neodash_activitygroupvalue_name": "",
      "neodash_activitygroupvalue_name_display": "",
      "neodash_activitysubgroupvalue_adam_param_code": "",
      "neodash_activitysubgroupvalue_adam_param_code_display": "",
      "neodash_neodash_activity_instance": "",
      "neodash_cosmos_activity_instance": "",
      "neodash_activity_intance": "",
      "neodash_sdtmversion": "",
      "neodash_detail": "",
      "neodash_activitysubgroupvalue_name": "",
      "neodash_activitysubgroupvalue_name_display": "",
      "neodash_limit_list": "",
      "neodash_limit_list_display": "",
      "neodash_activityinstanceclassvalue_name": "Finding",
      "neodash_activityinstanceclassvalue_name_display": "Finding",
      "neodash_neodash_cosmos_activity": "",
      "neodash_cosmos_activity": "",
      "neodash_activity_instance_sdtm": "",
      "neodash_studyactivitysubgroup_name": "",
      "neodash_studyactivitysubgroup_name_display": "",
      "neodash_activityinstanceclassvalue_name_subtype": "",
      "neodash_activityinstanceclassvalue_name_subtype_display": "",
      "neodash_neodash_activitygroupvalue_name": "",
      "neodash_neodash_activitygroupvalue_name_display": "",
      "neodash_instance_display": "",
      "neodash_instance": "",
      "neodash_activity": "",
      "neodash_cosmos_instance": "",
      "neodash_sdtm_version": "",
      "neodash_ai": [],
      "neodash_ai_display": [],
      "neodash_operator": "AND",
      "neodash_operator_display": "AND",
      "neodash_study_act_select": {
        "low": 0,
        "high": 0
      },
      "neodash_study_activity": [],
      "neodash_study_activity_display": [],
      "neodash_show_latest": "N",
      "neodash_show_latest_display": "N",
      "neodash_activityvalue_name": [],
      "neodash_activityvalue_name_display": []
    },
    "resizing": "bottom-right",
    "disableRowLimiting": false,
    "theme": "light",
    "queryTimeLimit": 120
  },
  "pages": [
    {
      "title": "ReadMe",
      "reports": [
        {
          "title": "Guide",
          "query": "**This report is for browsing Activity Concepts**\n\nIt displays the Activity Concepts (**latest** version) available in the StudyBuilder Library.\n\nFollow the tabs to see different views of the concepts.\n\nFor more information on activity concepts you can read this \n**[article on Biomedical Concepts/Activity Concepts](https://novo-nordisk.gitlab.io/nn-public/openstudybuilder/project-description/guide_activity_concept)**\n",
          "width": 24,
          "height": 3,
          "x": 0,
          "y": 0,
          "type": "text",
          "selection": {},
          "settings": {
            "downloadImageEnabled": false,
            "replaceGlobalParameters": true
          },
          "id": "5774cad7-c3ac-4062-b917-fdbcef235e41"
        },
        {
          "id": "7f7a7cda-2fa3-413d-bac7-40bda540d74e",
          "title": "Number of Activities and Instances by Group and Subgroup",
          "query": "MATCH(act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)-[R2:IN_SUBGROUP]->(sg:ActivityValidGroup)<-[R3:HAS_GROUP]-(asgrp:ActivitySubGroupValue),\n(sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue),(act)<-[:LATEST]-()\nMATCH(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue)<-[:LATEST]-()\nreturn distinct agrp.name as `Activity Group`, \nasgrp.name as `Activity Subgroup`,\ncount(distinct act.name) as `Number of Activities`,\ncount(distinct ai.name) as `Number of Activity Instances`\n\n\n\n",
          "width": 12,
          "height": 6,
          "x": 0,
          "y": 7,
          "type": "table",
          "selection": {},
          "settings": {
            "refreshButtonEnabled": true,
            "compact": true,
            "wrapContent": true,
            "columnWidths": "[1,2,1.5,2]"
          }
        },
        {
          "id": "119873c7-f120-4db1-ac52-64d55a3bb120",
          "title": "Number of Activities and Instances by Type and Subtype",
          "query": "MATCH(act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)-[R2:IN_SUBGROUP]->(sg:ActivityValidGroup)<-[R3:HAS_GROUP]-(asgrp:ActivitySubGroupValue),\n(sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue),(act)<-[:LATEST]-()\nMATCH(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue)<-[:LATEST]-()\nOPTIONAL MATCH (ai)-[R42:ACTIVITY_INSTANCE_CLASS]->(aicr:ActivityInstanceClassRoot)-[R43:LATEST]->(aic:ActivityInstanceClassValue)\nOPTIONAL MATCH (aicr)-[R10:PARENT_CLASS]->(aicrp:ActivityInstanceClassRoot)-[R11:LATEST]->(aicp:ActivityInstanceClassValue)\nreturn \naicp.name as `Activity Type`,\naic.name as `Activity Subtype`,\ncount(distinct ai.name) as `Number of Activity Instances`,\ncount(distinct act.name) as `Number of Activities`\n\n\n\n\n\n",
          "width": 12,
          "height": 6,
          "x": 12,
          "y": 7,
          "type": "table",
          "selection": {},
          "settings": {
            "transposed": false,
            "refreshButtonEnabled": true,
            "compact": true,
            "wrapContent": true,
            "columnWidths": "[1,2,2,1.5]"
          }
        },
        {
          "id": "e5b87c60-b072-4f8a-955a-9cc1e778f251",
          "title": "Number of Activities and Instances",
          "query": "MATCH(act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue)<-[:LATEST]-(), (act)-[:LATEST]-()\nreturn count(distinct act) as `Number of Activities`,  count(distinct ai) as `Number of Activity Instances`\n\n\n\n",
          "width": 12,
          "height": 4,
          "x": 12,
          "y": 3,
          "type": "table",
          "selection": {},
          "settings": {
            "compact": true,
            "allowDownload": true,
            "columnWidthsType": "Fixed (px)",
            "transposed": true
          },
          "schema": []
        },
        {
          "id": "1402a2c5-8cdf-406e-858d-96bc0bf0c933",
          "title": "Groupings of Activities",
          "query": "MATCH(act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)-[R2:IN_SUBGROUP]->(sg:ActivityValidGroup)<-[R3:HAS_GROUP]-(asgrp:ActivitySubGroupValue),\n(sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue),(act)<-[:LATEST]-()\nMATCH(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue)<-[:LATEST]-(),\n(ai)-[R42:ACTIVITY_INSTANCE_CLASS]->(aicr:ActivityInstanceClassRoot)-[R43:LATEST]->(aic:ActivityInstanceClassValue)\nMATCH (aicr)-[R10:PARENT_CLASS]->(aicrp:ActivityInstanceClassRoot)-[R11:LATEST]->(aicp:ActivityInstanceClassValue)\nwith aicp.name as ActivityType,\naic.name as ActivitySubType,\nagrp.name as ActivityGroup, \nasgrp.name as ActiviySubGroup,\n[aicp.name,aic.name,agrp.name,asgrp.name] as Grouping,\ncount(distinct act.name) as N_act\nreturn Grouping, N_act as Activities\n\n\n\n\n",
          "width": 12,
          "height": 4,
          "x": 0,
          "y": 3,
          "type": "circlePacking",
          "selection": {
            "index": "Grouping",
            "value": "Activities",
            "key": "(none)"
          },
          "settings": {
            "refreshButtonEnabled": true,
            "colors": "nivo",
            "cornerRadius": 30,
            "fullscreenEnabled": true,
            "enableArcLabels": false,
            "showLabels": false,
            "interactive": true
          },
          "schema": []
        }
      ]
    },
    {
      "title": "Activity Lib (Search Top-Down)",
      "reports": [
        {
          "title": "Activity Subgroup",
          "query": "MATCH(act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)-[R2:IN_SUBGROUP]->(sg:ActivityValidGroup)<-[R3:HAS_GROUP]-(asgrp:ActivitySubGroupValue),\n(sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue)\nMATCH(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue)\nMATCH (ai)-[R42:ACTIVITY_INSTANCE_CLASS]->(aicr:ActivityInstanceClassRoot)-[R43:LATEST]->(aic:ActivityInstanceClassValue)\nMATCH (aicr)-[R10:PARENT_CLASS]->(aicrp:ActivityInstanceClassRoot)-[R11:LATEST]->(aicp:ActivityInstanceClassValue) \nwhere aicp.name = $neodash_activityinstanceclassvalue_name \nand aic.name =$neodash_activityinstanceclassvalue_name_subtype \nand agrp.name = $neodash_activitygroupvalue_name\nRETURN DISTINCT asgrp.`name` as value,  asgrp.`name` as display ORDER BY size(toString(value)) ASC",
          "width": 6,
          "height": 2,
          "x": 18,
          "y": 2,
          "type": "select",
          "selection": {},
          "settings": {
            "type": "Custom Query",
            "suggestionLimit": 10,
            "overridePropertyDisplayName": true,
            "entityType": "activitysubgroupvalue_name",
            "parameterName": "neodash_activitysubgroupvalue_name"
          },
          "id": "",
          "schema": []
        },
        {
          "title": "Number of Activities (Instances per Activity, when Subgroup is Selected)",
          "query": "CALL apoc.case([not $neodash_activityinstanceclassvalue_name='' and $neodash_activityinstanceclassvalue_name_subtype='' and $neodash_activitygroupvalue_name='' and $neodash_activitysubgroupvalue_name='', \n'MATCH(act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)-[R2:IN_SUBGROUP]->(sg:ActivityValidGroup)<-[R3:HAS_GROUP]-(asgrp:ActivitySubGroupValue),\n(sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue)\nMATCH(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue)<-[:LATEST]-()\nMATCH (ai)-[R42:ACTIVITY_INSTANCE_CLASS]->(aicr:ActivityInstanceClassRoot)-[R43:LATEST]->(aic:ActivityInstanceClassValue)\nMATCH (aicr)-[R10:PARENT_CLASS]->(aicrp:ActivityInstanceClassRoot)-[R11:LATEST]->(aicp:ActivityInstanceClassValue) where aicp.name in [$a]\nreturn aic.name as Category,\ncount(distinct act) as `Number of Activities` order by Category' , \nnot $neodash_activityinstanceclassvalue_name='' and not $neodash_activityinstanceclassvalue_name_subtype='' and $neodash_activitygroupvalue_name='' and $neodash_activitysubgroupvalue_name='', \n'MATCH(act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)-[R2:IN_SUBGROUP]->(sg:ActivityValidGroup)<-[R3:HAS_GROUP]-(asgrp:ActivitySubGroupValue),\n(sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue)\nMATCH(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue)<-[:LATEST]-()\nMATCH (ai)-[R42:ACTIVITY_INSTANCE_CLASS]->(aicr:ActivityInstanceClassRoot)-[R43:LATEST]->(aic:ActivityInstanceClassValue) where aic.name in [$b]\nMATCH (aicr)-[R10:PARENT_CLASS]->(aicrp:ActivityInstanceClassRoot)-[R11:LATEST]->(aicp:ActivityInstanceClassValue) where aicp.name in [$a]\nreturn agrp.name as Category,\ncount(distinct act) as `Number of Activities` order by Category', \nnot $neodash_activityinstanceclassvalue_name='' and not $neodash_activityinstanceclassvalue_name_subtype='' and not $neodash_activitygroupvalue_name='' and $neodash_activitysubgroupvalue_name='', \n'MATCH(act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)-[R2:IN_SUBGROUP]->(sg:ActivityValidGroup)<-[R3:HAS_GROUP]-(asgrp:ActivitySubGroupValue),\n(sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue) where agrp.name in [$c]\nMATCH(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue)<-[:LATEST]-()\nMATCH (ai)-[R42:ACTIVITY_INSTANCE_CLASS]->(aicr:ActivityInstanceClassRoot)-[R43:LATEST]->(aic:ActivityInstanceClassValue) where aic.name in [$b]\nMATCH (aicr)-[R10:PARENT_CLASS]->(aicrp:ActivityInstanceClassRoot)-[R11:LATEST]->(aicp:ActivityInstanceClassValue) where aicp.name in [$a]\nreturn asgrp.name as Category,\ncount(distinct act) as `Number of Activities` order by Category',\nnot $neodash_activityinstanceclassvalue_name='' and not $neodash_activityinstanceclassvalue_name_subtype='' and not $neodash_activitygroupvalue_name='' and not $neodash_activitysubgroupvalue_name='', \n'MATCH(act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)-[R2:IN_SUBGROUP]->(sg:ActivityValidGroup)<-[R3:HAS_GROUP]-(asgrp:ActivitySubGroupValue),\n(sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue) where agrp.name in [$c] and asgrp.name in[$d]\nMATCH(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue)<-[:LATEST]-()\nMATCH (ai)-[R42:ACTIVITY_INSTANCE_CLASS]->(aicr:ActivityInstanceClassRoot)-[R43:LATEST]->(aic:ActivityInstanceClassValue) where aic.name in [$b]\nMATCH (aicr)-[R10:PARENT_CLASS]->(aicrp:ActivityInstanceClassRoot)-[R11:LATEST]->(aicp:ActivityInstanceClassValue) where aicp.name in [$a]\nreturn act.name as Category,\ncount(distinct ai) as `Number of Activities` order by Category'],\n'MATCH(act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)-[R2:IN_SUBGROUP]->(sg:ActivityValidGroup)<-[R3:HAS_GROUP]-(asgrp:ActivitySubGroupValue),\n(sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue) \nMATCH(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue)<-[:LATEST]-()\nMATCH (ai)-[R42:ACTIVITY_INSTANCE_CLASS]->(aicr:ActivityInstanceClassRoot)-[R43:LATEST]->(aic:ActivityInstanceClassValue) \nMATCH (aicr)-[R10:PARENT_CLASS]->(aicrp:ActivityInstanceClassRoot)-[R11:LATEST]->(aicp:ActivityInstanceClassValue) \nreturn aicp.name as Category,\ncount(distinct act) as `Number of Activities` order by Category',\n{a:$neodash_activityinstanceclassvalue_name,\nb:$neodash_activityinstanceclassvalue_name_subtype,\nc:$neodash_activitygroupvalue_name, \nd:$neodash_activitysubgroupvalue_name}) YIELD value \nreturn value.Category as Category,\nvalue.`Number of Activities` as`Number of Activities/Instances` order by Category\n\n",
          "width": 24,
          "height": 6,
          "x": 0,
          "y": 4,
          "type": "bar",
          "selection": {
            "index": "Category",
            "value": "Number of Activities/Instances",
            "key": "(none)"
          },
          "settings": {
            "legend": false,
            "showOptionalSelections": false,
            "barValues": true,
            "layout": "vertical",
            "groupMode": "stacked",
            "positionLabel": "off",
            "hideSelections": true,
            "colors": "category10",
            "fullscreenEnabled": true,
            "refreshButtonEnabled": true,
            "valueScale": "linear",
            "labelSkipWidth": 20,
            "legendWidth": 150,
            "labelSkipHeight": 20,
            "marginBottom": 220,
            "marginTop": 30,
            "labelRotation": 45
          },
          "id": "0b69ad13-2fec-4978-92b5-0e9e8c7bcef4",
          "schema": []
        },
        {
          "title": "Activity Group",
          "query": "MATCH(act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)-[R2:IN_SUBGROUP]->(sg:ActivityValidGroup)<-[R3:HAS_GROUP]-(asgrp:ActivitySubGroupValue),\n(sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue)\nMATCH(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue)\nMATCH (ai)-[R42:ACTIVITY_INSTANCE_CLASS]->(aicr:ActivityInstanceClassRoot)-[R43:LATEST]->(aic:ActivityInstanceClassValue)\nMATCH (aicr)-[R10:PARENT_CLASS]->(aicrp:ActivityInstanceClassRoot)-[R11:LATEST]->(aicp:ActivityInstanceClassValue) \nwhere aicp.name = $neodash_activityinstanceclassvalue_name \nand aic.name = $neodash_activityinstanceclassvalue_name_subtype \nRETURN DISTINCT agrp.`name` as value,  agrp.`name` as display ORDER BY size(toString(value)) ASC ",
          "width": 6,
          "height": 2,
          "x": 12,
          "y": 2,
          "type": "select",
          "selection": {},
          "settings": {
            "type": "Custom Query",
            "entityType": "activitygroupvalue_name",
            "multiSelector": false,
            "suggestionLimit": 30,
            "clearParameterOnFieldClear": false,
            "parameterName": "neodash_activitygroupvalue_name"
          },
          "id": "e7c9fe93-4718-4dd6-a412-bee1144ce5aa",
          "schema": []
        },
        {
          "title": "Activity Class",
          "query": "MATCH(act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)-[R2:IN_SUBGROUP]->(sg:ActivityValidGroup)<-[R3:HAS_GROUP]-(asgrp:ActivitySubGroupValue),\n(sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue)\nMATCH(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue)\nMATCH (ai)-[R42:ACTIVITY_INSTANCE_CLASS]->(aicr:ActivityInstanceClassRoot)-[R43:LATEST]->(aic:ActivityInstanceClassValue)\nMATCH (aicr)-[R10:PARENT_CLASS]->(aicrp:ActivityInstanceClassRoot)-[R11:LATEST]->(aicp:ActivityInstanceClassValue) return distinct aicp.name as value,  aicp.`name` as display ORDER BY size(toString(value)) ASC ",
          "width": 6,
          "height": 2,
          "x": 0,
          "y": 2,
          "type": "select",
          "selection": {},
          "settings": {
            "type": "Custom Query",
            "suggestionLimit": 20,
            "clearParameterOnFieldClear": false,
            "overridePropertyDisplayName": false,
            "entityType": "activityinstanceclassvalue_name",
            "manualPropertyNameSpecification": true,
            "parameterName": "neodash_activityinstanceclassvalue_name"
          },
          "id": "7cbece26-7894-4182-a84f-a6b12211dd5f",
          "schema": []
        },
        {
          "title": "Activity as a Graph View (Logical View) - $neodash_activity",
          "query": "//Logical view of Activity and intances\nMATCH\n  (act:ActivityValue)-[R1:HAS_GROUPING]->\n  (g:ActivityGrouping)-[R2:IN_SUBGROUP]->\n  (sg:ActivityValidGroup)<-[R3:HAS_GROUP]-\n  (asgrp:ActivitySubGroupValue),\n  (sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue)<-[:LATEST]-()\nWHERE act.name = $neodash_activity\nMATCH (g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue)<-[:LATEST]-()\nMATCH\n  (ai)-[R7:ACTIVITY_INSTANCE_CLASS]->\n  (aicr:ActivityInstanceClassRoot)-[R8:LATEST]->\n  (aic:ActivityInstanceClassValue)\nWITH DISTINCT\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aicr,\n  apoc.create.vNode([\"ActivityInstance\"], properties(ai)) AS v_ai,\n  apoc.create.vNode([\"ActivityInstanceClass\"], properties(aic)) AS v_aic,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5\nWITH DISTINCT\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aicr,\n  v_ai,\n  v_aic,\n  apoc.create.vRelationship(act, \"HAS\", {type: \"logical\"}, v_ai) AS r1,\n  apoc.create.vRelationship(v_ai, \"HAS_ACTIVITY\", {type: \"logical\"}, g) AS r2,\n  apoc.create.vRelationship(v_ai, \"OF_CLASS\", {type: \"logical\"}, v_aic) AS r3,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5\nWITH DISTINCT\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aicr,\n  v_ai,\n  v_aic,\n  r1,\n  r2,\n  r3,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5\nOPTIONAL MATCH\n  (aicr)-[R11:PARENT_CLASS]->\n  (aicrp:ActivityInstanceClassRoot)-[R12:LATEST]->\n  (aicp:ActivityInstanceClassValue)\nOPTIONAL MATCH\n  (aicrp)-[R13:PARENT_CLASS]->\n  (aicrpp:ActivityInstanceClassRoot)-[R14:LATEST]->\n  (aicpp:ActivityInstanceClassValue)\n//Items\nOPTIONAL MATCH\n  (ai:ActivityInstanceValue)-[R6:CONTAINS_ACTIVITY_ITEM]->\n  (aitm1)<-[R9:HAS_ACTIVITY_ITEM]-\n  (aitmc1r:ActivityItemClassRoot)-[R10:LATEST]->\n  (aitmc1:ActivityItemClassValue)\nOPTIONAL MATCH (aitmc1r)<-[R15:HAS_ITEM_CLASS]-(aicr)\nOPTIONAL MATCH (aitmc1r)<-[R16:HAS_ITEM_CLASS]-(aicrp)\nOPTIONAL MATCH (aitmc1r)<-[R17:HAS_ITEM_CLASS]-(aicrpp)\nWITH DISTINCT\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aitm1,\n  aitmc1,\n  aicp,\n  aicpp,\n  v_ai,\n  v_aic,\n  r1,\n  r2,\n  r3,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5,\n  R6,\n  R15,\n  R16,\n  R17,\n  apoc.create.vNode([\"ActivityItemClass\"], properties(aitmc1)) AS v_aitmc1,\n  CASE\n    WHEN\n      R16 IS NOT NULL\n      THEN apoc.create.vNode([\"ActivityInstanceClass\"], properties(aicp))\n  END AS v_aicp,\n  CASE\n    WHEN\n      R17 IS NOT NULL\n      THEN apoc.create.vNode([\"ActivityInstanceClass\"], properties(aicpp))\n  END AS v_aicpp\nWITH DISTINCT\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aitm1,\n  aitmc1,\n  v_ai,\n  v_aic,\n  v_aicp,\n  v_aicpp,\n  v_aitmc1,\n  r1,\n  r2,\n  r3,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5,\n  R6,\n  R15,\n  R16,\n  R17,\n  apoc.create.vRelationship(v_ai, \"HAS\", {type: \"logical\"}, aitm1) AS r4,\n  apoc.create.vRelationship(aitm1, \"OF_CLASS\", {type: \"logical\"}, v_aitmc1) AS r5,\n  CASE\n    WHEN\n      (R15 IS NOT NULL)\n      THEN\n        apoc.create.vRelationship(\n          v_aitmc1,\n          \"OF_CLASS\",\n          {type: \"logical\"},\n          v_aic\n        )\n  END AS r6,\n  CASE\n    WHEN\n      (R16 IS NOT NULL)\n      THEN\n        apoc.create.vRelationship(\n          v_aitmc1,\n          \"OF_CLASS\",\n          {type: \"logical\"},\n          v_aicp\n        )\n  END AS r7,\n  CASE\n    WHEN\n      (R17 IS NOT NULL)\n      THEN\n        apoc.create.vRelationship(\n          v_aitmc1,\n          \"OF_CLASS\",\n          {type: \"logical\"},\n          v_aicpp\n        )\n  END AS r8\nWITH DISTINCT\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aitm1,\n  aitmc1,\n  v_ai,\n  v_aic,\n  v_aicp,\n  v_aicpp,\n  v_aitmc1,\n  r1,\n  r2,\n  r3,\n  r4,\n  r5,\n  r6,\n  r7,\n  r8,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5,\n  R6,\n  R15,\n  R16,\n  R17\n//Role and Type\nOPTIONAL MATCH\n  (aitmc1)-[R39:HAS_ROLE]->\n  (ct_context_role)-[y1:HAS_SELECTED_TERM]->\n  (role_r:CTTermRoot)-[R40:HAS_NAME_ROOT]->\n  (ctnr_role)-[R41:LATEST]->\n  (role_val)\nMATCH\n  (aitmc1)-[R43:HAS_DATA_TYPE]->\n  (ct_context_dtype)-[y2:HAS_SELECTED_TERM]->\n  (dtype_r),\n  (dtype_r)-[R44:HAS_NAME_ROOT]->(ctnr_dtype)-[R45:LATEST]->(dtype_val)\nWITH DISTINCT\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aitm1,\n  v_ai,\n  v_aic,\n  v_aicp,\n  v_aicpp,\n  v_aitmc1,\n  r1,\n  r2,\n  r3,\n  r4,\n  r5,\n  r6,\n  r7,\n  r8,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5,\n  R6,\n  role_r,\n  dtype_r,\n  role_val,\n  dtype_val,\n  CASE\n    WHEN\n      role_r IS NOT NULL\n      THEN apoc.create.vNode([\"CTTerm\"], properties(role_val))\n  END AS v_role,\n  CASE\n    WHEN\n      dtype_r IS NOT NULL\n      THEN apoc.create.vNode([\"CTTerm\"], properties(dtype_val))\n  END AS v_dtype\nWITH\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aitm1,\n  v_ai,\n  v_aic,\n  v_aicp,\n  v_aicpp,\n  v_aitmc1,\n  v_role,\n  v_dtype,\n  r1,\n  r2,\n  r3,\n  r4,\n  r5,\n  r6,\n  r7,\n  r8,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5,\n  R6,\n  role_r,\n  dtype_r,\n  CASE\n    WHEN\n      role_r IS NOT NULL\n      THEN\n        apoc.create.vRelationship(\n          v_aitmc1,\n          \"HAS_ROLE\",\n          {type: \"logical\"},\n          v_role\n        )\n  END AS r11,\n  CASE\n    WHEN\n      dtype_r IS NOT NULL\n      THEN\n        apoc.create.vRelationship(\n          v_aitmc1,\n          \"HAS_TYPE\",\n          {type: \"logical\"},\n          v_dtype\n        )\n  END AS r12\nWITH\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aitm1,\n  v_ai,\n  v_aic,\n  v_aicp,\n  v_aicpp,\n  v_aitmc1,\n  v_role,\n  v_dtype,\n  r1,\n  r2,\n  r3,\n  r4,\n  r5,\n  r6,\n  r7,\n  r8,\n  r11,\n  r12,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5,\n  R6\n//Terms\nOPTIONAL MATCH\n  (aitm1)-[R18:HAS_CT_TERM]->\n  (ct_context:CTTermContext)-[R19:HAS_SELECTED_TERM]->\n  (ct2cd:CTTermRoot)-[R20:HAS_NAME_ROOT]->\n  (ct2cdr:CTTermNameRoot)-[R21:LATEST]->\n  (ct2_sponsor),\n  (ct2cd)-[R22:HAS_ATTRIBUTES_ROOT]->\n  (ct2att:CTTermAttributesRoot)-[R23:LATEST]->\n  (ct2_cdisc),\n  (ct2cd)<-[x1:HAS_TERM_ROOT]-\n  (term:CTCodelistTerm)<-[x2:HAS_TERM]-\n  (clr:CTCodelistRoot)<-[x3:HAS_SELECTED_CODELIST]-\n  (ct_context),\n  (ct2cd)<-[x4:CONTAINS_TERM]-(lib:Library)\nOPTIONAL MATCH\n  (ct_context)<-[x12:HAS_CT_DIMENSION]-(pos_units_in_dim:UnitDefinitionValue)\nOPTIONAL MATCH\n  (aitm1)-[x6:HAS_UNIT_DEFINITION]->\n  (unitdefr:UnitDefinitionRoot)-[x7:LATEST]->\n  (unitdef:UnitDefinitionValue)-[x8:HAS_CT_DIMENSION]->\n  (ct_context2)-[x9:HAS_SELECTED_CODELIST]->\n  (cl_unit_root:CTCodelistRoot),\n  (cl_unit_root)-[x10:HAS_ATTRIBUTES_ROOT]-\n  (cl_unit_att:CTCodelistAttributesRoot)-[x11:LATEST]->\n  (cl_unit_cdisc:CTCodelistAttributesValue)\nOPTIONAL MATCH\n  (cl_unit_root)-[x13:HAS_NAME_ROOT]->\n  (clunit_attr:CTCodelistNameRoot)-[x14:LATEST]-\n  (cl_unit_sponsor)\nOPTIONAL MATCH\n  (clr:CTCodelistRoot)-[R27:HAS_ATTRIBUTES_ROOT]->\n  (clatt:CTCodelistAttributesRoot)-[R28:LATEST]->\n  (cl_cdisc:CTCodelistAttributesValue)\nOPTIONAL MATCH\n  (clr)-[R29:HAS_NAME_ROOT]->\n  (clattr:CTCodelistNameRoot)-[R30:LATEST]-\n  (cl_sponsor)\nWITH DISTINCT\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aitm1,\n  cl_cdisc,\n  cl_sponsor,\n  cl_unit_cdisc,\n  cl_unit_sponsor,\n  v_ai,\n  v_aic,\n  v_aicp,\n  v_aicpp,\n  v_aitmc1,\n  v_role,\n  v_dtype,\n  r1,\n  r2,\n  r3,\n  r4,\n  r5,\n  r6,\n  r7,\n  r8,\n  r11,\n  r12,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5,\n  R6,\n  ct2cd,\n  unitdefr,\n  ct2_cdisc,\n  ct2_sponsor,\n  unitdef,\n  CASE\n    WHEN\n      ct2cd IS NOT NULL\n      THEN\n        apoc.create.vNode(\n          [\"CTTerm\"],\n          apoc.map.merge(properties(ct2_cdisc), properties(ct2_sponsor))\n        )\n  END AS v_ct,\n  CASE\n    WHEN\n      unitdefr IS NOT NULL\n      THEN apoc.create.vNode([\"CTTerm\"], properties(unitdef))\n  END AS v_unit_ct\nWITH DISTINCT\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aitm1,\n  cl_cdisc,\n  cl_sponsor,\n  cl_unit_cdisc,\n  cl_unit_sponsor,\n  v_ai,\n  v_aic,\n  v_aicp,\n  v_aicpp,\n  v_aitmc1,\n  v_ct,\n  v_unit_ct,\n  v_role,\n  v_dtype,\n  r1,\n  r2,\n  r3,\n  r4,\n  r5,\n  r6,\n  r7,\n  r8,\n  r11,\n  r12,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5,\n  R6,\n  ct2cd,\n  unitdefr,\n  unitdef,\n  CASE\n    WHEN\n      ct2cd IS NOT NULL\n      THEN apoc.create.vRelationship(aitm1, \"FOR\", {type: \"logical\"}, v_ct)\n  END AS r9,\n  CASE\n    WHEN\n      unitdefr IS NOT NULL\n      THEN apoc.create.vRelationship(aitm1, \"FOR\", {type: \"logical\"}, v_unit_ct)\n  END AS r10\nWITH DISTINCT\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aitm1,\n  v_ai,\n  v_aic,\n  v_aicp,\n  v_aicpp,\n  v_aitmc1,\n  v_ct,\n  v_unit_ct,\n  v_role,\n  v_dtype,\n  r1,\n  r2,\n  r3,\n  r4,\n  r5,\n  r6,\n  r7,\n  r8,\n  r9,\n  r10,\n  r11,\n  r12,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5,\n  R6,\n  ct2cd,\n  unitdefr,\n  unitdef,\n  CASE\n    WHEN\n      ct2cd IS NOT NULL\n      THEN\n        apoc.create.vNode(\n          [\"CTCodeList\"],\n          apoc.map.merge(properties(cl_cdisc), properties(cl_sponsor))\n        )\n  END AS v_cl,\n  CASE\n    WHEN\n      unitdefr IS NOT NULL\n      THEN\n        apoc.create.vNode(\n          [\"CTCodeList\"],\n          apoc.map.merge(properties(cl_unit_cdisc), properties(cl_unit_sponsor))\n        )\n  END AS v_unit_cl\nWITH\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aitm1,\n  ct2cd,\n  unitdefr,\n  v_ai,\n  v_aic,\n  v_aicp,\n  v_aicpp,\n  v_aitmc1,\n  v_ct,\n  v_unit_ct,\n  v_role,\n  v_dtype,\n  v_cl,\n  v_unit_cl,\n  r1,\n  r2,\n  r3,\n  r4,\n  r5,\n  r6,\n  r7,\n  r8,\n  r9,\n  r10,\n  r11,\n  r12,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5,\n  R6,\n  CASE\n    WHEN\n      ct2cd IS NOT NULL\n      THEN apoc.create.vRelationship(v_cl, \"HAS\", {type: \"logical\"}, v_ct)\n  END AS r13,\n  CASE\n    WHEN\n      unitdefr IS NOT NULL\n      THEN\n        apoc.create.vRelationship(\n          v_unit_ct,\n          \"HAS\",\n          {type: \"logical\"},\n          v_unit_cl\n        )\n  END AS r14\nRETURN\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  v_ai,\n  v_aic,\n  v_aicp,\n  v_aicpp,\n  aitm1,\n  v_aitmc1,\n  v_ct,\n  v_unit_ct,\n  v_role,\n  v_dtype,\n  v_unit_cl,\n  v_cl,\n  r1,\n  r2,\n  r3,\n  r4,\n  r5,\n  r6,\n  r7,\n  r8,\n  r9,\n  r10,\n  r11,\n  r12,\n  r13,\n  r14,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5",
          "width": 12,
          "height": 6,
          "x": 0,
          "y": 18,
          "type": "graph",
          "selection": {
            "ActivityGrouping": "(label)",
            "ActivityValidGroup": "(label)",
            "TemplateParameterTermValue": "name",
            "ConceptValue": "name",
            "ActivityGroupValue": "name",
            "ActivitySubGroupValue": "name",
            "ActivityValue": "name",
            "ActivityInstance": "name",
            "ActivityInstanceClass": "name",
            "ActivityItem": "(label)",
            "ActivityItemClass": "name",
            "CTTerm": "name",
            "CTCodeList": "(label)",
            "HAS": "(label)",
            "HAS_ACTIVITY": "(label)",
            "OF_CLASS": "(label)",
            "FOR": "(label)",
            "HAS_ROLE": "(label)",
            "HAS_TYPE": "(label)",
            "HAS_GROUPING": "(label)",
            "IN_SUBGROUP": "(label)",
            "HAS_GROUP": "(label)",
            "IN_GROUP": "(label)"
          },
          "settings": {
            "nodePositions": {},
            "nodeColorScheme": "set3",
            "relationshipParticles": false,
            "hideSelections": true,
            "frozen": false,
            "refreshButtonEnabled": true,
            "rightClickToExpandNodes": false,
            "layout": "force-directed",
            "fullscreenEnabled": true,
            "downloadImageEnabled": true,
            "enableEditing": false,
            "showPropertiesOnHover": true,
            "autorun": true,
            "lockable": true,
            "defaultNodeSize": 3
          },
          "id": "7f8f6e8f-046f-45a7-a8da-cedcd6c8b537",
          "schema": [
            [
              "ActivityGrouping",
              "uid"
            ],
            [
              "ActivityValidGroup",
              "uid"
            ],
            [
              "TemplateParameterTermValue",
              "name",
              "name_sentence_case",
              "definition",
              "synonyms",
              "is_request_rejected",
              "is_data_collected",
              "is_request_final",
              "is_multiple_selection_allowed"
            ],
            [
              "ConceptValue",
              "name",
              "name_sentence_case",
              "definition",
              "synonyms",
              "is_request_rejected",
              "is_data_collected",
              "is_request_final",
              "is_multiple_selection_allowed"
            ],
            [
              "ActivityGroupValue",
              "name",
              "name_sentence_case",
              "definition"
            ],
            [
              "ActivitySubGroupValue",
              "name",
              "name_sentence_case"
            ],
            [
              "ActivityValue",
              "synonyms",
              "name",
              "is_request_rejected",
              "name_sentence_case",
              "is_data_collected",
              "is_request_final",
              "is_multiple_selection_allowed"
            ],
            [
              "ActivityInstance",
              "topic_code",
              "is_derived",
              "adam_param_code",
              "name_sentence_case",
              "is_legacy_usage",
              "name",
              "definition",
              "is_default_selected_for_activity",
              "is_data_sharing",
              "is_required_for_activity",
              "legacy_description",
              "is_research_lab"
            ],
            [
              "ActivityInstanceClass",
              "name",
              "definition",
              "level",
              "is_domain_specific",
              "order"
            ],
            [
              "ActivityItem",
              "is_adam_param_specific"
            ],
            [
              "ActivityItemClass",
              "name",
              "definition",
              "nci_concept_id",
              "order"
            ],
            [
              "CTTerm",
              "preferred_term",
              "concept_id",
              "synonyms",
              "name",
              "name_sentence_case",
              "definition",
              "us_conventional_unit",
              "display_unit",
              "si_unit",
              "master_unit",
              "use_complex_unit_conversion",
              "use_molecular_weight",
              "convertible_unit",
              "conversion_factor_to_master",
              "order",
              "legacy_code"
            ],
            [
              "CTCodeList",
              "preferred_term",
              "concept_id",
              "synonyms",
              "name",
              "name_sentence_case",
              "definition",
              "extensible",
              "submission_value",
              "ordinal"
            ],
            [
              "HAS",
              "type"
            ],
            [
              "HAS_ACTIVITY",
              "type"
            ],
            [
              "OF_CLASS",
              "type"
            ],
            [
              "FOR",
              "type"
            ],
            [
              "HAS_ROLE",
              "type"
            ],
            [
              "HAS_TYPE",
              "type"
            ],
            [
              "HAS_GROUPING"
            ],
            [
              "IN_SUBGROUP"
            ],
            [
              "HAS_GROUP"
            ],
            [
              "IN_GROUP"
            ]
          ]
        },
        {
          "title": "Activity Subclass",
          "query": "MATCH(act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)-[R2:IN_SUBGROUP]->(sg:ActivityValidGroup)<-[R3:HAS_GROUP]-(asgrp:ActivitySubGroupValue),\n(sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue)\nMATCH(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue)\nMATCH (ai)-[R42:ACTIVITY_INSTANCE_CLASS]->(aicr:ActivityInstanceClassRoot)-[R43:LATEST]->(aic:ActivityInstanceClassValue)\nMATCH (aicr)-[R10:PARENT_CLASS]->(aicrp:ActivityInstanceClassRoot)-[R11:LATEST]->(aicp:ActivityInstanceClassValue) where aicp.name = $neodash_activityinstanceclassvalue_name return distinct aic.`name` as value,  aic.`name` as display ORDER BY size(toString(value)) ASC ",
          "width": 6,
          "height": 2,
          "x": 6,
          "y": 2,
          "type": "select",
          "selection": {},
          "settings": {
            "type": "Custom Query",
            "suggestionLimit": 20,
            "clearParameterOnFieldClear": false,
            "entityType": "activityinstanceclassvalue_name_subtype",
            "parameterName": "neodash_activityinstanceclassvalue_name_subtype",
            "multiline": false,
            "manualParameterSave": false
          },
          "id": "a5d49942-7b13-496b-9bfd-536eaf877be5",
          "schema": []
        },
        {
          "title": "Activity in Tabular Format - $neodash_activity",
          "query": "CALL\n  apoc.when(\n    NOT $neodash_activity = '',\n    \"\nMATCH\n  (act:ActivityValue)-[R1:HAS_GROUPING]->\n  (g:ActivityGrouping)-[R2:IN_SUBGROUP]->\n  (sg:ActivityValidGroup)<-[R3:HAS_GROUP]-\n  (asgrp:ActivitySubGroupValue),\n  (sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue)\nWHERE act.name = $neodash_activity\nMATCH\n  (g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-\n  (ai:ActivityInstanceValue)-[R6:CONTAINS_ACTIVITY_ITEM]->\n  (aitm1:ActivityItem),\n  (ai)<-[:LATEST]-()\nMATCH\n  (ai)-[R7:ACTIVITY_INSTANCE_CLASS]->\n  (aicr:ActivityInstanceClassRoot)-[R8:LATEST]->\n  (aic:ActivityInstanceClassValue)\nOPTIONAL MATCH\n  (aitm1)<-[R9:HAS_ACTIVITY_ITEM]-\n  (aitmc1r:ActivityItemClassRoot)-[R10:LATEST]->\n  (aitmc1:ActivityItemClassValue)\nOPTIONAL MATCH\n  (aicr)-[R11:PARENT_CLASS]->\n  (aicrp:ActivityInstanceClassRoot)-[R12:LATEST]->\n  (aicp:ActivityInstanceClassValue)\nOPTIONAL MATCH\n  (aicrp)-[R13:PARENT_CLASS]->\n  (aicrpp:ActivityInstanceClassRoot)-[R14:LATEST]->\n  (aicpp:ActivityInstanceClassValue)\nOPTIONAL MATCH (aitmc1r)<-[R15:HAS_ITEM_CLASS]-(aicr)\nOPTIONAL MATCH (aitmc1r)<-[R16:HAS_ITEM_CLASS]-(aicrp)\nOPTIONAL MATCH (aitmc1r)<-[R17:HAS_ITEM_CLASS]-(aicrpp)\n//Terms\nOPTIONAL MATCH\n  (aitm1)-[R18:HAS_CT_TERM]->\n  (ct_context:CTTermContext)-[R19:HAS_SELECTED_TERM]->\n  (ct2cd:CTTermRoot)-[R20:HAS_NAME_ROOT]->\n  (ct2cdr:CTTermNameRoot)-[R21:LATEST]->\n  (ct2_sponsor),\n  (ct2cd)-[R22:HAS_ATTRIBUTES_ROOT]->\n  (ct2att:CTTermAttributesRoot)-[R23:LATEST]->\n  (ct2_cdisc),\n  (ct2cd)<-[x1:HAS_TERM_ROOT]-\n  (term:CTCodelistTerm)<-[x2:HAS_TERM]-\n  (clr:CTCodelistRoot)<-[x3:HAS_SELECTED_CODELIST]-\n  (ct_context),\n  (ct2cd)<-[x4:CONTAINS_TERM]-(lib:Library)\nOPTIONAL MATCH\n  (ct_context)<-[x12:HAS_CT_DIMENSION]-(pos_units_in_dim:UnitDefinitionValue)\nOPTIONAL MATCH\n  (aitm1)-[x6:HAS_UNIT_DEFINITION]->\n  (unit_def_root:UnitDefinitionRoot)-[x7:LATEST]->\n  (unit_term:UnitDefinitionValue)-[x8:HAS_CT_DIMENSION]->\n  (ct_context2)-[x9:HAS_SELECTED_CODELIST]->\n  (cl_unit_root:CTCodelistRoot),\n  (cl_unit_root)-[x10:HAS_ATTRIBUTES_ROOT]-\n  (cl_unit_att:CTCodelistAttributesRoot)-[x11:LATEST]->\n  (cl_unit_cdisc:CTCodelistAttributesValue)\nOPTIONAL MATCH\n  (cl_unit_root)-[x13:HAS_NAME_ROOT]->\n  (clunit_attr:CTCodelistNameRoot)-[x14:LATEST]-\n  (cl_unit_sponsor)\nOPTIONAL MATCH\n  (clr:CTCodelistRoot)-[R27:HAS_ATTRIBUTES_ROOT]->\n  (clatt:CTCodelistAttributesRoot)-[R28:LATEST]->\n  (cl_cdisc:CTCodelistAttributesValue)\nOPTIONAL MATCH\n  (clr)-[R29:HAS_NAME_ROOT]->\n  (clattr:CTCodelistNameRoot)-[R30:LATEST]-\n  (cl_sponsor)\nOPTIONAL MATCH\n  (aitmc1)-[R39:HAS_ROLE]->(ct_context_role)-[y1:HAS_SELECTED_TERM]->\n  (role_r:CTTermRoot)-[R40:HAS_NAME_ROOT]->\n  (ctnr_role)-[R41:LATEST]->\n  (role_val)\nMATCH\n  (aitmc1)-[R43:HAS_DATA_TYPE]->(ct_context_dtype)-[y2:HAS_SELECTED_TERM]->(dtype_r),\n  (dtype_r)-[R44:HAS_NAME_ROOT]->(ctnr_dtype)-[R45:LATEST]->(dtype_val)\nWITH DISTINCT\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  aitm1,\n  aitmc1r,\n  aitmc1,\n  aicrp,\n  aicp,\n  aicrpp,\n  aicpp,\n  ct2cd,\n  ct2cdr,\n  ct2_sponsor,\n  ct2att,\n  ct2_cdisc,\n  unit_def_root,\n  unit_term,\n  clr,\n  clatt,\n  clattr,\n  cl_sponsor,\n  cl_cdisc,\n  cl_unit_cdisc,\n  cl_unit_sponsor,\n  pos_units_in_dim,\n  role_r,\n  ctnr_role,\n  role_val,\n  dtype_r,\n  dtype_val,\n  CASE\n    WHEN pos_units_in_dim IS NOT NULL THEN pos_units_in_dim\n    ELSE\n      CASE\n        WHEN unit_term IS NOT NULL THEN unit_term\n        ELSE\n          CASE\n            WHEN\n              ct2cd IS NOT NULL\n              THEN\n                apoc.map.merge(properties(ct2_cdisc), properties(ct2_sponsor))\n          END\n      END\n  END AS ct2,\n  CASE\n    WHEN\n      clr IS NOT NULL\n      THEN apoc.map.merge(properties(cl_cdisc), properties(cl_sponsor))\n    ELSE\n      CASE\n        WHEN\n          cl_unit_root IS NOT NULL\n          THEN\n            apoc.map.merge(\n              properties(cl_unit_cdisc),\n              properties(cl_unit_sponsor)\n            )\n      END\n  END AS cl\nWITH DISTINCT\n  apoc.convert.toSet(collect(agrp.name)) AS ActivityGroup,\n  apoc.convert.toSet(collect(asgrp.name)) AS ActivitySubGroup,\n  act.name AS Activity,\n  aitmc1.name AS `Activity Item Class`,\n  ct2.name as terms,\n  CASE\n    WHEN ct2 IS NOT NULL THEN cl.name\n    ELSE\n      CASE\n        WHEN cl IS NOT NULL THEN cl.preferred_term\n      END\n  END AS `Code List`,\n  role_val.name AS Role,\n  dtype_val.name AS `Data Type`\nWITH\n  apoc.convert.toSet(apoc.coll.flatten(collect(ActivityGroup))) AS ActivityGroup,\n  apoc.convert.toSet(apoc.coll.flatten(collect(ActivitySubGroup))) AS ActivitySubGroup,\n  Activity,\n  `Activity Item Class`,\n  apoc.convert.toSet(collect(terms)) AS Terms,\n  `Code List`,\n  Role,\n  `Data Type`\nRETURN\n  ActivityGroup,\n  ActivitySubGroup,\n  Activity,\n  `Activity Item Class`,\n  Terms,\n  `Code List`,\n  Role,\n  `Data Type`\",\n    \"match(x:blbla) return *\",\n    {neodash_activity: $neodash_activity}\n  )\n  YIELD value\nRETURN\n  value.ActivityGroup AS `Activity Group`,\n  value.ActivitySubGroup AS `Activity Subgroup`,\n  value.Activity AS Activity,\n  value.`Activity Item Class` AS `Activity Item Class`,\n  value.Terms AS Terms,\n  value.`Code List` AS `Code List`,\n  value.Role AS Role,\n  value.`Data Type` AS `Data Type`",
          "width": 24,
          "height": 4,
          "x": 0,
          "y": 14,
          "type": "table",
          "selection": {},
          "settings": {
            "compact": true,
            "columnWidths": "[0.6,0.6,0.5,0.6,1,1,0.5,0.5]",
            "autorun": true,
            "wrapContent": true,
            "refreshButtonEnabled": true,
            "allowDownload": true
          },
          "id": "9b28167f-7b58-4d41-8122-5201a121613d",
          "schema": []
        },
        {
          "title": "Activity as a Graph View (Physical View) - $neodash_activity",
          "query": "MATCH\n  (act:ActivityValue)-[R1:HAS_GROUPING]->\n  (g:ActivityGrouping)-[R2:IN_SUBGROUP]->\n  (sg:ActivityValidGroup)<-[R3:HAS_GROUP]-\n  (asgrp:ActivitySubGroupValue),\n  (sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue)\nWHERE act.name = $neodash_activity\nMATCH\n  (g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-\n  (ai:ActivityInstanceValue)-[R6:CONTAINS_ACTIVITY_ITEM]->\n  (aitm1:ActivityItem),\n  (ai)<-[:LATEST]-()\nMATCH\n  (ai)-[R7:ACTIVITY_INSTANCE_CLASS]->\n  (aicr:ActivityInstanceClassRoot)-[R8:LATEST]->\n  (aic:ActivityInstanceClassValue)\nOPTIONAL MATCH\n  (aitm1)<-[R9:HAS_ACTIVITY_ITEM]-\n  (aitmc1r:ActivityItemClassRoot)-[R10:LATEST]->\n  (aitmc1:ActivityItemClassValue)\nOPTIONAL MATCH\n  (aicr)-[R11:PARENT_CLASS]->\n  (aicrp:ActivityInstanceClassRoot)-[R12:LATEST]->\n  (aicp:ActivityInstanceClassValue)\nOPTIONAL MATCH\n  (aicrp)-[R13:PARENT_CLASS]->\n  (aicrpp:ActivityInstanceClassRoot)-[R14:LATEST]->\n  (aicpp:ActivityInstanceClassValue)\nOPTIONAL MATCH (aitmc1r)<-[R15:HAS_ITEM_CLASS]-(aicr)\nOPTIONAL MATCH (aitmc1r)<-[R16:HAS_ITEM_CLASS]-(aicrp)\nOPTIONAL MATCH (aitmc1r)<-[R17:HAS_ITEM_CLASS]-(aicrpp)\n//Terms\nOPTIONAL MATCH\n  (aitm1)-[R18:HAS_CT_TERM]->\n  (ct_context:CTTermContext)-[R19:HAS_SELECTED_TERM]->\n  (ct2cd:CTTermRoot)-[R20:HAS_NAME_ROOT]->\n  (ct2cdr:CTTermNameRoot)-[R21:LATEST]->\n  (ct2_sponsor),\n  (ct2cd)-[R22:HAS_ATTRIBUTES_ROOT]->\n  (ct2att:CTTermAttributesRoot)-[R23:LATEST]->\n  (ct2_cdisc),\n  (ct2cd)<-[x1:HAS_TERM_ROOT]-\n  (term:CTCodelistTerm)<-[x2:HAS_TERM]-\n  (clr:CTCodelistRoot)<-[x3:HAS_SELECTED_CODELIST]-\n  (ct_context),\n  (ct2cd)<-[x4:CONTAINS_TERM]-(lib:Library)\nOPTIONAL MATCH\n  (ct_context)<-[x12:HAS_CT_DIMENSION]-(pos_units_in_dim:UnitDefinitionValue)\nOPTIONAL MATCH\n  (aitm1)-[x6:HAS_UNIT_DEFINITION]->\n  (unit_def_root:UnitDefinitionRoot)-[x7:LATEST]->\n  (unit_term:UnitDefinitionValue)-[x8:HAS_CT_DIMENSION]->\n  (ct_context2)-[x9:HAS_SELECTED_CODELIST]->\n  (cl_unit_root:CTCodelistRoot),\n  (cl_unit_root)-[x10:HAS_ATTRIBUTES_ROOT]-\n  (cl_unit_att:CTCodelistAttributesRoot)-[x11:LATEST]->\n  (cl_unit_cdisc:CTCodelistAttributesValue)\nOPTIONAL MATCH\n  (cl_unit_root)-[x13:HAS_NAME_ROOT]->\n  (clunit_attr:CTCodelistNameRoot)-[x14:LATEST]-\n  (cl_unit_sponsor)\nOPTIONAL MATCH\n  (clr:CTCodelistRoot)-[R27:HAS_ATTRIBUTES_ROOT]->\n  (clatt:CTCodelistAttributesRoot)-[R28:LATEST]->\n  (cl_cdisc:CTCodelistAttributesValue)\nOPTIONAL MATCH\n  (clr)-[R29:HAS_NAME_ROOT]->\n  (clattr:CTCodelistNameRoot)-[R30:LATEST]-\n  (cl_sponsor)\nOPTIONAL MATCH\n  (aitmc1)-[R39:HAS_ROLE]->(ct_context_role)-[y1:HAS_SELECTED_TERM]->\n  (role_r:CTTermRoot)-[R40:HAS_NAME_ROOT]->\n  (ctnr_role)-[R41:LATEST]->\n  (role_val)\nMATCH\n  (aitmc1)-[R43:HAS_DATA_TYPE]->(ct_context_dtype)-[y2:HAS_SELECTED_TERM]->(dtype_r),\n  (dtype_r)-[R44:HAS_NAME_ROOT]->(ctnr_dtype)-[R45:LATEST]->(dtype_val)\nreturn *",
          "width": 12,
          "height": 6,
          "x": 12,
          "y": 18,
          "type": "graph",
          "selection": {
            "HAS_GROUPING": "(label)",
            "LATEST": "(label)",
            "PARENT_CLASS": "(label)",
            "HAS_CT_TERM": "(label)",
            "HAS_SELECTED_TERM": "(label)",
            "IN_SUBGROUP": "(label)",
            "HAS_NAME_ROOT": "(label)",
            "HAS_ATTRIBUTES_ROOT": "(label)",
            "HAS_GROUP": "(label)",
            "HAS_ROLE": "(label)",
            "IN_GROUP": "(label)",
            "HAS_DATA_TYPE": "(label)",
            "HAS_ACTIVITY": "(label)",
            "CONTAINS_ACTIVITY_ITEM": "(label)",
            "ACTIVITY_INSTANCE_CLASS": "(label)",
            "HAS_ACTIVITY_ITEM": "(label)",
            "TemplateParameterTermValue": "name",
            "ConceptValue": "name",
            "ActivityValue": "name",
            "ActivityGroupValue": "name",
            "ActivityInstanceValue": "name",
            "ActivityInstanceClassValue": "name",
            "ActivityInstanceClassRoot": "uid",
            "ActivityItem": "(label)",
            "ActivityItemClassValue": "name",
            "ActivityItemClassRoot": "uid",
            "ActivitySubGroupValue": "name",
            "CTCodelistAttributesValue": "name",
            "CTCodelistNameValue": "name",
            "CTCodelistAttributesRoot": "(label)",
            "CTCodelistNameRoot": "(label)",
            "CTCodelistRoot": "uid",
            "CTTermAttributesValue": "(label)",
            "CTTermNameValue": "name",
            "CTTermAttributesRoot": "(label)",
            "CTTermRoot": "uid",
            "CTTermNameRoot": "uid",
            "CTTermContext": "(label)",
            "TemplateParameterTermRoot": "uid",
            "ActivityGrouping": "uid",
            "Library": "name",
            "ActivityValidGroup": "uid",
            "CTCodelistTerm": "(label)",
            "HAS_TERM_ROOT": "(label)",
            "HAS_TERM": "(label)",
            "HAS_SELECTED_CODELIST": "(label)",
            "CONTAINS_TERM": "(label)",
            "HAS_ITEM_CLASS": "(label)",
            "UnitDefinitionValue": "name",
            "HAS_CT_DIMENSION": "(label)",
            "ConceptRoot": "uid",
            "UnitDefinitionRoot": "uid",
            "HAS_UNIT_DEFINITION": "(label)"
          },
          "settings": {
            "hideSelections": true,
            "frozen": false,
            "nodePositions": {},
            "refreshButtonEnabled": true,
            "nodeColorScheme": "set3",
            "showPropertiesOnHover": true,
            "downloadImageEnabled": true,
            "fullscreenEnabled": true,
            "layout": "force-directed"
          },
          "id": "823d3dfb-bce1-4719-9843-cb30524e20f6",
          "schema": [
            [
              "HAS_GROUPING"
            ],
            [
              "LATEST"
            ],
            [
              "PARENT_CLASS"
            ],
            [
              "HAS_CT_TERM"
            ],
            [
              "HAS_SELECTED_TERM"
            ],
            [
              "IN_SUBGROUP"
            ],
            [
              "HAS_NAME_ROOT"
            ],
            [
              "HAS_ATTRIBUTES_ROOT"
            ],
            [
              "HAS_GROUP"
            ],
            [
              "HAS_ROLE"
            ],
            [
              "IN_GROUP"
            ],
            [
              "HAS_DATA_TYPE"
            ],
            [
              "HAS_ACTIVITY"
            ],
            [
              "CONTAINS_ACTIVITY_ITEM"
            ],
            [
              "ACTIVITY_INSTANCE_CLASS"
            ],
            [
              "HAS_ACTIVITY_ITEM"
            ],
            [
              "TemplateParameterTermValue",
              "synonyms",
              "name",
              "is_request_rejected",
              "name_sentence_case",
              "is_data_collected",
              "is_request_final",
              "is_multiple_selection_allowed",
              "definition",
              "topic_code",
              "is_derived",
              "adam_param_code",
              "is_default_selected_for_activity",
              "is_data_sharing",
              "is_required_for_activity",
              "legacy_description",
              "is_research_lab",
              "is_legacy_usage",
              "us_conventional_unit",
              "display_unit",
              "si_unit",
              "master_unit",
              "use_complex_unit_conversion",
              "use_molecular_weight",
              "convertible_unit",
              "conversion_factor_to_master",
              "order",
              "legacy_code"
            ],
            [
              "ConceptValue",
              "synonyms",
              "name",
              "is_request_rejected",
              "name_sentence_case",
              "is_data_collected",
              "is_request_final",
              "is_multiple_selection_allowed",
              "definition",
              "topic_code",
              "is_derived",
              "adam_param_code",
              "is_default_selected_for_activity",
              "is_data_sharing",
              "is_required_for_activity",
              "legacy_description",
              "is_research_lab",
              "is_legacy_usage",
              "us_conventional_unit",
              "display_unit",
              "si_unit",
              "master_unit",
              "use_complex_unit_conversion",
              "use_molecular_weight",
              "convertible_unit",
              "conversion_factor_to_master",
              "order",
              "legacy_code"
            ],
            [
              "ActivityValue",
              "synonyms",
              "name",
              "is_request_rejected",
              "name_sentence_case",
              "is_data_collected",
              "is_request_final",
              "is_multiple_selection_allowed"
            ],
            [
              "ActivityGroupValue",
              "name",
              "name_sentence_case",
              "definition"
            ],
            [
              "ActivityInstanceValue",
              "topic_code",
              "is_derived",
              "adam_param_code",
              "name",
              "name_sentence_case",
              "definition",
              "is_default_selected_for_activity",
              "is_data_sharing",
              "is_required_for_activity",
              "legacy_description",
              "is_research_lab",
              "is_legacy_usage"
            ],
            [
              "ActivityInstanceClassValue",
              "level",
              "is_domain_specific",
              "name",
              "definition",
              "order"
            ],
            [
              "ActivityInstanceClassRoot",
              "uid"
            ],
            [
              "ActivityItem",
              "is_adam_param_specific"
            ],
            [
              "ActivityItemClassValue",
              "nci_concept_id",
              "name",
              "definition",
              "order"
            ],
            [
              "ActivityItemClassRoot",
              "uid"
            ],
            [
              "ActivitySubGroupValue",
              "name",
              "name_sentence_case"
            ],
            [
              "CTCodelistAttributesValue",
              "preferred_term",
              "concept_id",
              "synonyms",
              "name",
              "definition",
              "extensible",
              "submission_value",
              "ordinal"
            ],
            [
              "CTCodelistNameValue",
              "name",
              "name_sentence_case"
            ],
            [
              "CTCodelistAttributesRoot"
            ],
            [
              "CTCodelistNameRoot"
            ],
            [
              "CTCodelistRoot",
              "uid"
            ],
            [
              "CTTermAttributesValue",
              "preferred_term",
              "concept_id",
              "synonyms",
              "definition"
            ],
            [
              "CTTermNameValue",
              "name",
              "name_sentence_case"
            ],
            [
              "CTTermAttributesRoot"
            ],
            [
              "CTTermRoot",
              "uid"
            ],
            [
              "CTTermNameRoot",
              "uid"
            ],
            [
              "CTTermContext"
            ],
            [
              "TemplateParameterTermRoot",
              "uid"
            ],
            [
              "ActivityGrouping",
              "uid"
            ],
            [
              "Library",
              "name",
              "is_editable"
            ],
            [
              "ActivityValidGroup",
              "uid"
            ],
            [
              "CTCodelistTerm",
              "submission_value"
            ],
            [
              "HAS_TERM_ROOT"
            ],
            [
              "HAS_TERM",
              "start_date",
              "author_id",
              "order"
            ],
            [
              "HAS_SELECTED_CODELIST"
            ],
            [
              "CONTAINS_TERM"
            ],
            [
              "HAS_ITEM_CLASS",
              "is_adam_param_specific_enabled",
              "mandatory"
            ],
            [
              "UnitDefinitionValue",
              "us_conventional_unit",
              "display_unit",
              "si_unit",
              "master_unit",
              "name",
              "definition",
              "use_complex_unit_conversion",
              "use_molecular_weight",
              "convertible_unit",
              "conversion_factor_to_master",
              "order",
              "legacy_code"
            ],
            [
              "HAS_CT_DIMENSION"
            ],
            [
              "ConceptRoot",
              "uid"
            ],
            [
              "UnitDefinitionRoot",
              "uid"
            ],
            [
              "HAS_UNIT_DEFINITION"
            ]
          ]
        },
        {
          "id": "c1bb190a-b3a9-4e65-843d-c0ab8c42ba42",
          "title": "List of Activities",
          "query": "CALL apoc.case([not $neodash_activityinstanceclassvalue_name='' \n               and $neodash_activityinstanceclassvalue_name_subtype='' \n               and $neodash_activitygroupvalue_name='' \n               and $neodash_activitysubgroupvalue_name='', \n\n'MATCH(act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)-[R2:IN_SUBGROUP]->(sg:ActivityValidGroup)<-[R3:HAS_GROUP]-(asgrp:ActivitySubGroupValue),\n(sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue),\n(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue)<-[:LATEST]-(),\n(ai)-[R42:ACTIVITY_INSTANCE_CLASS]->(aicr:ActivityInstanceClassRoot)-[R43:LATEST]->(aic:ActivityInstanceClassValue),\n(aitm1)<-[R8:HAS_ACTIVITY_ITEM]-(aitmc1r:ActivityItemClassRoot)-[R9:LATEST]->(aitmc1:ActivityItemClassValue),\n(aicr)-[R10:PARENT_CLASS]->(aicrp:ActivityInstanceClassRoot)-[R11:LATEST]->(aicp:ActivityInstanceClassValue),\n(aicrp)-[R12:PARENT_CLASS]->(aicrpp:ActivityInstanceClassRoot)-[R13:LATEST]->(aicpp:ActivityInstanceClassValue)\nwhere aicp.name in [$a] \n\nreturn distinct aicp.name as ActivityType, aic.name as ActivitySubType, agrp.name as ActivityGroup, asgrp.name as ActivitySubGroup, act.name as Activity', \n\nnot $neodash_activityinstanceclassvalue_name='' \nand not $neodash_activityinstanceclassvalue_name_subtype='' \nand $neodash_activitygroupvalue_name='' \nand $neodash_activitysubgroupvalue_name='', \n\n'MATCH(act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)-[R2:IN_SUBGROUP]->(sg:ActivityValidGroup)<-[R3:HAS_GROUP]-(asgrp:ActivitySubGroupValue),\n(sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue),\n(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue)<-[:LATEST]-(),\n(ai)-[R42:ACTIVITY_INSTANCE_CLASS]->(aicr:ActivityInstanceClassRoot)-[R43:LATEST]->(aic:ActivityInstanceClassValue),\n(aitm1)<-[R8:HAS_ACTIVITY_ITEM]-(aitmc1r:ActivityItemClassRoot)-[R9:LATEST]->(aitmc1:ActivityItemClassValue),\n(aicr)-[R10:PARENT_CLASS]->(aicrp:ActivityInstanceClassRoot)-[R11:LATEST]->(aicp:ActivityInstanceClassValue),\n(aicrp)-[R12:PARENT_CLASS]->(aicrpp:ActivityInstanceClassRoot)-[R13:LATEST]->(aicpp:ActivityInstanceClassValue)\nwhere aicp.name in [$a] and aic.name in [$b] \n\nreturn distinct aicp.name as ActivityType, aic.name as ActivitySubType, agrp.name as ActivityGroup, asgrp.name as ActivitySubGroup, act.name as Activity', \n\nnot $neodash_activityinstanceclassvalue_name='' \nand not $neodash_activityinstanceclassvalue_name_subtype='' \nand not $neodash_activitygroupvalue_name='' \nand $neodash_activitysubgroupvalue_name='', \n\n'MATCH(act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)-[R2:IN_SUBGROUP]->(sg:ActivityValidGroup)<-[R3:HAS_GROUP]-(asgrp:ActivitySubGroupValue),\n(sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue),\n(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue)<-[:LATEST]-(),\n(ai)-[R42:ACTIVITY_INSTANCE_CLASS]->(aicr:ActivityInstanceClassRoot)-[R43:LATEST]->(aic:ActivityInstanceClassValue),\n(aitm1)<-[R8:HAS_ACTIVITY_ITEM]-(aitmc1r:ActivityItemClassRoot)-[R9:LATEST]->(aitmc1:ActivityItemClassValue),\n(aicr)-[R10:PARENT_CLASS]->(aicrp:ActivityInstanceClassRoot)-[R11:LATEST]->(aicp:ActivityInstanceClassValue),\n(aicrp)-[R12:PARENT_CLASS]->(aicrpp:ActivityInstanceClassRoot)-[R13:LATEST]->(aicpp:ActivityInstanceClassValue)\nwhere aicp.name in [$a] and aic.name in [$b] and agrp.name in [$c] \n\nreturn distinct aicp.name as ActivityType, aic.name as ActivitySubType, agrp.name as ActivityGroup, asgrp.name as ActivitySubGroup, act.name as Activity', \n\nnot $neodash_activityinstanceclassvalue_name='' \nand not $neodash_activityinstanceclassvalue_name_subtype='' \nand not $neodash_activitygroupvalue_name='' \nand not $neodash_activitysubgroupvalue_name='',\n\n'MATCH(act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)-[R2:IN_SUBGROUP]->(sg:ActivityValidGroup)<-[R3:HAS_GROUP]-(asgrp:ActivitySubGroupValue),\n(sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue),\n(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue)<-[:LATEST]-(),\n(ai)-[R42:ACTIVITY_INSTANCE_CLASS]->(aicr:ActivityInstanceClassRoot)-[R43:LATEST]->(aic:ActivityInstanceClassValue),\n(aitm1)<-[R8:HAS_ACTIVITY_ITEM]-(aitmc1r:ActivityItemClassRoot)-[R9:LATEST]->(aitmc1:ActivityItemClassValue),\n(aicr)-[R10:PARENT_CLASS]->(aicrp:ActivityInstanceClassRoot)-[R11:LATEST]->(aicp:ActivityInstanceClassValue),\n(aicrp)-[R12:PARENT_CLASS]->(aicrpp:ActivityInstanceClassRoot)-[R13:LATEST]->(aicpp:ActivityInstanceClassValue)\nwhere aicp.name in [$a] and aic.name in [$b] and agrp.name in [$c] and asgrp.name in [$d] \n\nreturn distinct aicp.name as ActivityType, aic.name as ActivitySubType, agrp.name as ActivityGroup, asgrp.name as ActivitySubGroup, act.name as Activity'],\n\n'MATCH(act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)-[R2:IN_SUBGROUP]->(sg:ActivityValidGroup)<-[R3:HAS_GROUP]-(asgrp:ActivitySubGroupValue),\n(sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue),\n(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue)<-[:LATEST]-(),\n(ai)-[R42:ACTIVITY_INSTANCE_CLASS]->(aicr:ActivityInstanceClassRoot)-[R43:LATEST]->(aic:ActivityInstanceClassValue),\n(aitm1)<-[R8:HAS_ACTIVITY_ITEM]-(aitmc1r:ActivityItemClassRoot)-[R9:LATEST]->(aitmc1:ActivityItemClassValue),\n(aicr)-[R10:PARENT_CLASS]->(aicrp:ActivityInstanceClassRoot)-[R11:LATEST]->(aicp:ActivityInstanceClassValue),\n(aicrp)-[R12:PARENT_CLASS]->(aicrpp:ActivityInstanceClassRoot)-[R13:LATEST]->(aicpp:ActivityInstanceClassValue) \nreturn distinct aicp.name as ActivityType, aic.name as ActivitySubType, agrp.name as ActivityGroup, asgrp.name as ActivitySubGroup, act.name as Activity',{\na:$neodash_activityinstanceclassvalue_name,    \nb:$neodash_activityinstanceclassvalue_name_subtype,\nc:$neodash_activitygroupvalue_name, \nd:$neodash_activitysubgroupvalue_name}) YIELD value return value.ActivityType as `Activity Type`,value.ActivitySubType as `Activity Subtype`, value.ActivityGroup as `Activity Group` ,value.ActivitySubGroup as `Activity Subgroup` , value.Activity as Activity order by Activity",
          "width": 24,
          "height": 4,
          "x": 0,
          "y": 10,
          "type": "table",
          "selection": {},
          "settings": {
            "refreshButtonEnabled": true,
            "styleRules": [
              {
                "field": "",
                "condition": "=",
                "value": "",
                "customization": "row color",
                "customizationValue": "black"
              }
            ],
            "actionsRules": [
              {
                "condition": "Click",
                "field": "Activity",
                "value": "Activity",
                "customization": "set variable",
                "customizationValue": "activity"
              }
            ],
            "compact": true,
            "wrapContent": true,
            "ignoreNonDefinedParams": false
          },
          "schema": []
        },
        {
          "id": "8b9b9231-f49e-4e1f-b181-7cfc040bf3a0",
          "title": "Guide",
          "query": "In the selection cards below, select from left to right to drill-down on the activities. \\\nI.e. select Finding in the left most drop-down to display the different Subclasses within Finding. \\\nThen select e.g. NumericFinding in the Subclass to display count by Activity Group. Moving from left to right.\\\nSelection in all cards will provide number of Activity Instances for a given Activity in the selected Subgroup.\n\n\n",
          "width": 24,
          "height": 2,
          "x": 0,
          "y": 0,
          "type": "text",
          "selection": {},
          "settings": {},
          "schema": []
        },
        {
          "id": "2a328d78-132e-49c6-b4a5-884d1fdaa015",
          "title": "Select Instance - $neodash_activity",
          "query": "MATCH(act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue)<-[:LATEST]-() \nwhere act.name = $neodash_activity \nreturn ai.name as Instance, ai.adam_param_code as `ADaM Param Code`",
          "width": 7,
          "height": 5,
          "x": 0,
          "y": 24,
          "type": "table",
          "selection": {},
          "settings": {
            "formFields": [
              {
                "type": "Node Property",
                "settings": {
                  "type": "Custom Query",
                  "entityType": "instance",
                  "parameterName": "neodash_instance"
                },
                "query": "MATCH(act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue) \nwhere act.name = $neodash_activity return ai.name as Instance"
              }
            ],
            "runButtonText": "Show detail",
            "actionsRules": [
              {
                "condition": "Click",
                "field": "ADaM Param Code",
                "value": "ADaM Param Code",
                "customization": "set variable",
                "customizationValue": "instance"
              }
            ],
            "wrapContent": true,
            "columnWidths": "[1,0.5]"
          },
          "schema": []
        },
        {
          "id": "bf2468d0-bf4e-4aa2-93e5-2f7e78ba4203",
          "title": "Instance Detail - $neodash_instance",
          "query": "MATCH\n  (act:ActivityValue)-[R1:HAS_GROUPING]->\n  (g:ActivityGrouping)-[R2:IN_SUBGROUP]->\n  (sg:ActivityValidGroup)<-[R3:HAS_GROUP]-\n  (asgrp:ActivitySubGroupValue),\n  (sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue)\nWHERE act.name = $neodash_activity\nMATCH\n  (g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-\n  (ai:ActivityInstanceValue)-[R6:CONTAINS_ACTIVITY_ITEM]->\n  (aitm1:ActivityItem),\n  (ai)<-[:LATEST]-() where ai.adam_param_code=$neodash_instance\nMATCH\n  (ai)-[R7:ACTIVITY_INSTANCE_CLASS]->\n  (aicr:ActivityInstanceClassRoot)-[R8:LATEST]->\n  (aic:ActivityInstanceClassValue)\nOPTIONAL MATCH\n  (aitm1)<-[R9:HAS_ACTIVITY_ITEM]-\n  (aitmc1r:ActivityItemClassRoot)-[R10:LATEST]->\n  (aitmc1:ActivityItemClassValue)\nOPTIONAL MATCH\n  (aicr)-[R11:PARENT_CLASS]->\n  (aicrp:ActivityInstanceClassRoot)-[R12:LATEST]->\n  (aicp:ActivityInstanceClassValue)\nOPTIONAL MATCH\n  (aicrp)-[R13:PARENT_CLASS]->\n  (aicrpp:ActivityInstanceClassRoot)-[R14:LATEST]->\n  (aicpp:ActivityInstanceClassValue)\nOPTIONAL MATCH (aitmc1r)<-[R15:HAS_ITEM_CLASS]-(aicr)\nOPTIONAL MATCH (aitmc1r)<-[R16:HAS_ITEM_CLASS]-(aicrp)\nOPTIONAL MATCH (aitmc1r)<-[R17:HAS_ITEM_CLASS]-(aicrpp)\n//Terms\nOPTIONAL MATCH\n  (aitm1)-[R18:HAS_CT_TERM]->\n  (ct_context:CTTermContext)-[R19:HAS_SELECTED_TERM]->\n  (ct2cd:CTTermRoot)-[R20:HAS_NAME_ROOT]->\n  (ct2cdr:CTTermNameRoot)-[R21:LATEST]->\n  (ct2_sponsor),\n  (ct2cd)-[R22:HAS_ATTRIBUTES_ROOT]->\n  (ct2att:CTTermAttributesRoot)-[R23:LATEST]->\n  (ct2_cdisc),\n  (ct2cd)<-[x1:HAS_TERM_ROOT]-\n  (term:CTCodelistTerm)<-[x2:HAS_TERM]-\n  (clr:CTCodelistRoot)<-[x3:HAS_SELECTED_CODELIST]-\n  (ct_context),\n  (ct2cd)<-[x4:CONTAINS_TERM]-(lib:Library)\nOPTIONAL MATCH\n  (ct_context)<-[x12:HAS_CT_DIMENSION]-(pos_units_in_dim:UnitDefinitionValue)\nOPTIONAL MATCH\n  (aitm1)-[x6:HAS_UNIT_DEFINITION]->\n  (unit_def_root:UnitDefinitionRoot)-[x7:LATEST]->\n  (unit_term:UnitDefinitionValue)-[x8:HAS_CT_DIMENSION]->\n  (ct_context2)-[x9:HAS_SELECTED_CODELIST]->\n  (cl_unit_root:CTCodelistRoot),\n  (cl_unit_root)-[x10:HAS_ATTRIBUTES_ROOT]-\n  (cl_unit_att:CTCodelistAttributesRoot)-[x11:LATEST]->\n  (cl_unit_cdisc:CTCodelistAttributesValue)\nOPTIONAL MATCH\n  (cl_unit_root)-[x13:HAS_NAME_ROOT]->\n  (clunit_attr:CTCodelistNameRoot)-[x14:LATEST]-\n  (cl_unit_sponsor)\nOPTIONAL MATCH\n  (clr:CTCodelistRoot)-[R27:HAS_ATTRIBUTES_ROOT]->\n  (clatt:CTCodelistAttributesRoot)-[R28:LATEST]->\n  (cl_cdisc:CTCodelistAttributesValue)\nOPTIONAL MATCH\n  (clr)-[R29:HAS_NAME_ROOT]->\n  (clattr:CTCodelistNameRoot)-[R30:LATEST]-\n  (cl_sponsor)\nOPTIONAL MATCH\n  (aitmc1)-[R39:HAS_ROLE]->(ct_context_role)-[y1:HAS_SELECTED_TERM]->\n  (role_r:CTTermRoot)-[R40:HAS_NAME_ROOT]->\n  (ctnr_role)-[R41:LATEST]->\n  (role_val)\nMATCH\n  (aitmc1)-[R43:HAS_DATA_TYPE]->(ct_context_dtype)-[y2:HAS_SELECTED_TERM]->(dtype_r),\n  (dtype_r)-[R44:HAS_NAME_ROOT]->(ctnr_dtype)-[R45:LATEST]->(dtype_val)\nWITH DISTINCT\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aitm1,\n  aitmc1r,\n  aitmc1,\n  aicrp,\n  aicp,\n  aic,\n  aicrpp,\n  aicpp,\n  ct2cd,\n  ct2cdr,\n  ct2_sponsor,\n  ct2att,\n  ct2_cdisc,\n  unit_def_root,\n  unit_term,\n  clr,\n  clatt,\n  clattr,\n  cl_sponsor,\n  cl_cdisc,\n  cl_unit_cdisc,\n  cl_unit_sponsor,\n  pos_units_in_dim,\n  role_r,\n  ctnr_role,\n  role_val,\n  dtype_r,\n  dtype_val,\n  CASE\n    WHEN pos_units_in_dim IS NOT NULL THEN pos_units_in_dim\n    ELSE\n      CASE\n        WHEN unit_term IS NOT NULL THEN unit_term\n        ELSE\n          CASE\n            WHEN\n              ct2cd IS NOT NULL\n              THEN\n                apoc.map.merge(properties(ct2_cdisc), properties(ct2_sponsor))\n          END\n      END\n  END AS ct2,\n  CASE\n    WHEN\n      clr IS NOT NULL\n      THEN apoc.map.merge(properties(cl_cdisc), properties(cl_sponsor))\n    ELSE\n      CASE\n        WHEN\n          cl_unit_root IS NOT NULL\n          THEN\n            apoc.map.merge(\n              properties(cl_unit_cdisc),\n              properties(cl_unit_sponsor)\n            )\n      END\n  END AS cl\nWITH DISTINCT\naic.name as Class,\nagrp.name as ActivityGroup,\nasgrp.name as ActivitySubGroup,\nai.name as Instance,\nai.adam_param_code as ADAM_CODE,\naitmc1.name AS `Activity Item Class`,\n  ct2.name as terms,\n  CASE\n    WHEN ct2 IS NOT NULL THEN cl.name\n    ELSE\n      CASE\n        WHEN cl IS NOT NULL THEN cl.preferred_term\n      END\n  END AS `Code List`,\n  role_val.name AS Role,\n  dtype_val.name AS `Data Type`\nreturn distinct \nClass,\nInstance,\nADAM_CODE,\n`Activity Item Class`,\napoc.convert.toSet(collect(terms)) AS Term,\n`Code List`,\nRole,\n`Data Type`\n",
          "width": 17,
          "height": 5,
          "x": 7,
          "y": 24,
          "type": "table",
          "selection": {},
          "settings": {
            "compact": true,
            "wrapContent": true
          },
          "schema": []
        },
        {
          "id": "0a3ffebe-ca79-43bb-a06b-46cb158e4d9d",
          "title": "Instance (Logical View) - $neodash_instance",
          "query": "//Logical view of Activity and intances\nMATCH\n  (act:ActivityValue)-[R1:HAS_GROUPING]->\n  (g:ActivityGrouping)-[R2:IN_SUBGROUP]->\n  (sg:ActivityValidGroup)<-[R3:HAS_GROUP]-\n  (asgrp:ActivitySubGroupValue),\n  (sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue)<-[:LATEST]-()\nWHERE act.name = $neodash_activity\nMATCH (g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue)<-[:LATEST]-() where ai.adam_param_code=$neodash_instance\nMATCH\n  (ai)-[R7:ACTIVITY_INSTANCE_CLASS]->\n  (aicr:ActivityInstanceClassRoot)-[R8:LATEST]->\n  (aic:ActivityInstanceClassValue)\nWITH DISTINCT\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aicr,\n  apoc.create.vNode([\"ActivityInstance\"], properties(ai)) AS v_ai,\n  apoc.create.vNode([\"ActivityInstanceClass\"], properties(aic)) AS v_aic,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5\nWITH DISTINCT\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aicr,\n  v_ai,\n  v_aic,\n  apoc.create.vRelationship(act, \"HAS\", {type: \"logical\"}, v_ai) AS r1,\n  apoc.create.vRelationship(v_ai, \"HAS_ACTIVITY\", {type: \"logical\"}, g) AS r2,\n  apoc.create.vRelationship(v_ai, \"OF_CLASS\", {type: \"logical\"}, v_aic) AS r3,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5\nWITH DISTINCT\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aicr,\n  v_ai,\n  v_aic,\n  r1,\n  r2,\n  r3,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5\nOPTIONAL MATCH\n  (aicr)-[R11:PARENT_CLASS]->\n  (aicrp:ActivityInstanceClassRoot)-[R12:LATEST]->\n  (aicp:ActivityInstanceClassValue)\nOPTIONAL MATCH\n  (aicrp)-[R13:PARENT_CLASS]->\n  (aicrpp:ActivityInstanceClassRoot)-[R14:LATEST]->\n  (aicpp:ActivityInstanceClassValue)\n//Items\nOPTIONAL MATCH\n  (ai:ActivityInstanceValue)-[R6:CONTAINS_ACTIVITY_ITEM]->\n  (aitm1)<-[R9:HAS_ACTIVITY_ITEM]-\n  (aitmc1r:ActivityItemClassRoot)-[R10:LATEST]->\n  (aitmc1:ActivityItemClassValue)\nOPTIONAL MATCH (aitmc1r)<-[R15:HAS_ITEM_CLASS]-(aicr)\nOPTIONAL MATCH (aitmc1r)<-[R16:HAS_ITEM_CLASS]-(aicrp)\nOPTIONAL MATCH (aitmc1r)<-[R17:HAS_ITEM_CLASS]-(aicrpp)\nWITH DISTINCT\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aitm1,\n  aitmc1,\n  aicp,\n  aicpp,\n  v_ai,\n  v_aic,\n  r1,\n  r2,\n  r3,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5,\n  R6,\n  R15,\n  R16,\n  R17,\n  apoc.create.vNode([\"ActivityItemClass\"], properties(aitmc1)) AS v_aitmc1,\n  CASE\n    WHEN\n      R16 IS NOT NULL\n      THEN apoc.create.vNode([\"ActivityInstanceClass\"], properties(aicp))\n  END AS v_aicp,\n  CASE\n    WHEN\n      R17 IS NOT NULL\n      THEN apoc.create.vNode([\"ActivityInstanceClass\"], properties(aicpp))\n  END AS v_aicpp\nWITH DISTINCT\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aitm1,\n  aitmc1,\n  v_ai,\n  v_aic,\n  v_aicp,\n  v_aicpp,\n  v_aitmc1,\n  r1,\n  r2,\n  r3,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5,\n  R6,\n  R15,\n  R16,\n  R17,\n  apoc.create.vRelationship(v_ai, \"HAS\", {type: \"logical\"}, aitm1) AS r4,\n  apoc.create.vRelationship(aitm1, \"OF_CLASS\", {type: \"logical\"}, v_aitmc1) AS r5,\n  CASE\n    WHEN\n      (R15 IS NOT NULL)\n      THEN\n        apoc.create.vRelationship(\n          v_aitmc1,\n          \"OF_CLASS\",\n          {type: \"logical\"},\n          v_aic\n        )\n  END AS r6,\n  CASE\n    WHEN\n      (R16 IS NOT NULL)\n      THEN\n        apoc.create.vRelationship(\n          v_aitmc1,\n          \"OF_CLASS\",\n          {type: \"logical\"},\n          v_aicp\n        )\n  END AS r7,\n  CASE\n    WHEN\n      (R17 IS NOT NULL)\n      THEN\n        apoc.create.vRelationship(\n          v_aitmc1,\n          \"OF_CLASS\",\n          {type: \"logical\"},\n          v_aicpp\n        )\n  END AS r8\nWITH DISTINCT\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aitm1,\n  aitmc1,\n  v_ai,\n  v_aic,\n  v_aicp,\n  v_aicpp,\n  v_aitmc1,\n  r1,\n  r2,\n  r3,\n  r4,\n  r5,\n  r6,\n  r7,\n  r8,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5,\n  R6,\n  R15,\n  R16,\n  R17\n//Role and Type\nOPTIONAL MATCH\n  (aitmc1)-[R39:HAS_ROLE]->\n  (ct_context_role)-[y1:HAS_SELECTED_TERM]->\n  (role_r:CTTermRoot)-[R40:HAS_NAME_ROOT]->\n  (ctnr_role)-[R41:LATEST]->\n  (role_val)\nMATCH\n  (aitmc1)-[R43:HAS_DATA_TYPE]->\n  (ct_context_dtype)-[y2:HAS_SELECTED_TERM]->\n  (dtype_r),\n  (dtype_r)-[R44:HAS_NAME_ROOT]->(ctnr_dtype)-[R45:LATEST]->(dtype_val)\nWITH DISTINCT\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aitm1,\n  v_ai,\n  v_aic,\n  v_aicp,\n  v_aicpp,\n  v_aitmc1,\n  r1,\n  r2,\n  r3,\n  r4,\n  r5,\n  r6,\n  r7,\n  r8,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5,\n  R6,\n  role_r,\n  dtype_r,\n  role_val,\n  dtype_val,\n  CASE\n    WHEN\n      role_r IS NOT NULL\n      THEN apoc.create.vNode([\"CTTerm\"], properties(role_val))\n  END AS v_role,\n  CASE\n    WHEN\n      dtype_r IS NOT NULL\n      THEN apoc.create.vNode([\"CTTerm\"], properties(dtype_val))\n  END AS v_dtype\nWITH\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aitm1,\n  v_ai,\n  v_aic,\n  v_aicp,\n  v_aicpp,\n  v_aitmc1,\n  v_role,\n  v_dtype,\n  r1,\n  r2,\n  r3,\n  r4,\n  r5,\n  r6,\n  r7,\n  r8,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5,\n  R6,\n  role_r,\n  dtype_r,\n  CASE\n    WHEN\n      role_r IS NOT NULL\n      THEN\n        apoc.create.vRelationship(\n          v_aitmc1,\n          \"HAS_ROLE\",\n          {type: \"logical\"},\n          v_role\n        )\n  END AS r11,\n  CASE\n    WHEN\n      dtype_r IS NOT NULL\n      THEN\n        apoc.create.vRelationship(\n          v_aitmc1,\n          \"HAS_TYPE\",\n          {type: \"logical\"},\n          v_dtype\n        )\n  END AS r12\nWITH\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aitm1,\n  v_ai,\n  v_aic,\n  v_aicp,\n  v_aicpp,\n  v_aitmc1,\n  v_role,\n  v_dtype,\n  r1,\n  r2,\n  r3,\n  r4,\n  r5,\n  r6,\n  r7,\n  r8,\n  r11,\n  r12,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5,\n  R6\n//Terms\nOPTIONAL MATCH\n  (aitm1)-[R18:HAS_CT_TERM]->\n  (ct_context:CTTermContext)-[R19:HAS_SELECTED_TERM]->\n  (ct2cd:CTTermRoot)-[R20:HAS_NAME_ROOT]->\n  (ct2cdr:CTTermNameRoot)-[R21:LATEST]->\n  (ct2_sponsor),\n  (ct2cd)-[R22:HAS_ATTRIBUTES_ROOT]->\n  (ct2att:CTTermAttributesRoot)-[R23:LATEST]->\n  (ct2_cdisc),\n  (ct2cd)<-[x1:HAS_TERM_ROOT]-\n  (term:CTCodelistTerm)<-[x2:HAS_TERM]-\n  (clr:CTCodelistRoot)<-[x3:HAS_SELECTED_CODELIST]-\n  (ct_context),\n  (ct2cd)<-[x4:CONTAINS_TERM]-(lib:Library)\nOPTIONAL MATCH\n  (ct_context)<-[x12:HAS_CT_DIMENSION]-(pos_units_in_dim:UnitDefinitionValue)\nOPTIONAL MATCH\n  (aitm1)-[x6:HAS_UNIT_DEFINITION]->\n  (unitdefr:UnitDefinitionRoot)-[x7:LATEST]->\n  (unitdef:UnitDefinitionValue)-[x8:HAS_CT_DIMENSION]->\n  (ct_context2)-[x9:HAS_SELECTED_CODELIST]->\n  (cl_unit_root:CTCodelistRoot),\n  (cl_unit_root)-[x10:HAS_ATTRIBUTES_ROOT]-\n  (cl_unit_att:CTCodelistAttributesRoot)-[x11:LATEST]->\n  (cl_unit_cdisc:CTCodelistAttributesValue)\nOPTIONAL MATCH\n  (cl_unit_root)-[x13:HAS_NAME_ROOT]->\n  (clunit_attr:CTCodelistNameRoot)-[x14:LATEST]-\n  (cl_unit_sponsor)\nOPTIONAL MATCH\n  (clr:CTCodelistRoot)-[R27:HAS_ATTRIBUTES_ROOT]->\n  (clatt:CTCodelistAttributesRoot)-[R28:LATEST]->\n  (cl_cdisc:CTCodelistAttributesValue)\nOPTIONAL MATCH\n  (clr)-[R29:HAS_NAME_ROOT]->\n  (clattr:CTCodelistNameRoot)-[R30:LATEST]-\n  (cl_sponsor)\nWITH DISTINCT\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aitm1,\n  cl_cdisc,\n  cl_sponsor,\n  cl_unit_cdisc,\n  cl_unit_sponsor,\n  v_ai,\n  v_aic,\n  v_aicp,\n  v_aicpp,\n  v_aitmc1,\n  v_role,\n  v_dtype,\n  r1,\n  r2,\n  r3,\n  r4,\n  r5,\n  r6,\n  r7,\n  r8,\n  r11,\n  r12,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5,\n  R6,\n  ct2cd,\n  unitdefr,\n  ct2_cdisc,\n  ct2_sponsor,\n  unitdef,\n  CASE\n    WHEN\n      ct2cd IS NOT NULL\n      THEN\n        apoc.create.vNode(\n          [\"CTTerm\"],\n          apoc.map.merge(properties(ct2_cdisc), properties(ct2_sponsor))\n        )\n  END AS v_ct,\n  CASE\n    WHEN\n      unitdefr IS NOT NULL\n      THEN apoc.create.vNode([\"CTTerm\"], properties(unitdef))\n  END AS v_unit_ct\nWITH DISTINCT\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aitm1,\n  cl_cdisc,\n  cl_sponsor,\n  cl_unit_cdisc,\n  cl_unit_sponsor,\n  v_ai,\n  v_aic,\n  v_aicp,\n  v_aicpp,\n  v_aitmc1,\n  v_ct,\n  v_unit_ct,\n  v_role,\n  v_dtype,\n  r1,\n  r2,\n  r3,\n  r4,\n  r5,\n  r6,\n  r7,\n  r8,\n  r11,\n  r12,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5,\n  R6,\n  ct2cd,\n  unitdefr,\n  unitdef,\n  CASE\n    WHEN\n      ct2cd IS NOT NULL\n      THEN apoc.create.vRelationship(aitm1, \"FOR\", {type: \"logical\"}, v_ct)\n  END AS r9,\n  CASE\n    WHEN\n      unitdefr IS NOT NULL\n      THEN apoc.create.vRelationship(aitm1, \"FOR\", {type: \"logical\"}, v_unit_ct)\n  END AS r10\nWITH DISTINCT\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aitm1,\n  v_ai,\n  v_aic,\n  v_aicp,\n  v_aicpp,\n  v_aitmc1,\n  v_ct,\n  v_unit_ct,\n  v_role,\n  v_dtype,\n  r1,\n  r2,\n  r3,\n  r4,\n  r5,\n  r6,\n  r7,\n  r8,\n  r9,\n  r10,\n  r11,\n  r12,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5,\n  R6,\n  ct2cd,\n  unitdefr,\n  unitdef,\n  CASE\n    WHEN\n      ct2cd IS NOT NULL\n      THEN\n        apoc.create.vNode(\n          [\"CTCodeList\"],\n          apoc.map.merge(properties(cl_cdisc), properties(cl_sponsor))\n        )\n  END AS v_cl,\n  CASE\n    WHEN\n      unitdefr IS NOT NULL\n      THEN\n        apoc.create.vNode(\n          [\"CTCodeList\"],\n          apoc.map.merge(properties(cl_unit_cdisc), properties(cl_unit_sponsor))\n        )\n  END AS v_unit_cl\nWITH\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aitm1,\n  ct2cd,\n  unitdefr,\n  v_ai,\n  v_aic,\n  v_aicp,\n  v_aicpp,\n  v_aitmc1,\n  v_ct,\n  v_unit_ct,\n  v_role,\n  v_dtype,\n  v_cl,\n  v_unit_cl,\n  r1,\n  r2,\n  r3,\n  r4,\n  r5,\n  r6,\n  r7,\n  r8,\n  r9,\n  r10,\n  r11,\n  r12,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5,\n  R6,\n  CASE\n    WHEN\n      ct2cd IS NOT NULL\n      THEN apoc.create.vRelationship(v_cl, \"HAS\", {type: \"logical\"}, v_ct)\n  END AS r13,\n  CASE\n    WHEN\n      unitdefr IS NOT NULL\n      THEN\n        apoc.create.vRelationship(\n          v_unit_ct,\n          \"HAS\",\n          {type: \"logical\"},\n          v_unit_cl\n        )\n  END AS r14\nRETURN\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  v_ai,\n  v_aic,\n  v_aicp,\n  v_aicpp,\n  aitm1,\n  v_aitmc1,\n  v_ct,\n  v_unit_ct,\n  v_role,\n  v_dtype,\n  v_unit_cl,\n  v_cl,\n  r1,\n  r2,\n  r3,\n  r4,\n  r5,\n  r6,\n  r7,\n  r8,\n  r9,\n  r10,\n  r11,\n  r12,\n  r13,\n  r14,\n  R1,\n  R2,\n  R3,\n  R4,\n  R5",
          "width": 24,
          "height": 10,
          "x": 0,
          "y": 29,
          "type": "graph",
          "selection": {
            "ActivityGrouping": "(label)",
            "ActivityValidGroup": "(label)",
            "TemplateParameterTermValue": "name",
            "ConceptValue": "name",
            "ActivityGroupValue": "name",
            "ActivitySubGroupValue": "name",
            "ActivityValue": "name",
            "ActivityInstance": "name",
            "ActivityInstanceClass": "name",
            "ActivityItem": "(label)",
            "ActivityItemClass": "name",
            "CTTerm": "name",
            "CTCodeList": "name",
            "HAS": "(label)",
            "HAS_ACTIVITY": "(label)",
            "OF_CLASS": "(label)",
            "FOR": "(label)",
            "HAS_ROLE": "(label)",
            "HAS_TYPE": "(label)",
            "HAS_GROUPING": "(label)",
            "IN_SUBGROUP": "(label)",
            "HAS_GROUP": "(label)",
            "IN_GROUP": "(label)"
          },
          "settings": {
            "nodeColorScheme": "set3",
            "defaultNodeSize": 4,
            "showPropertiesOnHover": true,
            "hideSelections": true,
            "refreshButtonEnabled": true,
            "fullscreenEnabled": true
          },
          "schema": [
            [
              "ActivityGrouping",
              "uid"
            ],
            [
              "ActivityValidGroup",
              "uid"
            ],
            [
              "TemplateParameterTermValue",
              "name",
              "name_sentence_case",
              "definition",
              "synonyms",
              "is_request_rejected",
              "is_data_collected",
              "is_request_final",
              "is_multiple_selection_allowed"
            ],
            [
              "ConceptValue",
              "name",
              "name_sentence_case",
              "definition",
              "synonyms",
              "is_request_rejected",
              "is_data_collected",
              "is_request_final",
              "is_multiple_selection_allowed"
            ],
            [
              "ActivityGroupValue",
              "name",
              "name_sentence_case",
              "definition"
            ],
            [
              "ActivitySubGroupValue",
              "name",
              "name_sentence_case"
            ],
            [
              "ActivityValue",
              "synonyms",
              "name",
              "is_request_rejected",
              "name_sentence_case",
              "is_data_collected",
              "is_request_final",
              "is_multiple_selection_allowed"
            ],
            [
              "ActivityInstance",
              "topic_code",
              "is_derived",
              "adam_param_code",
              "name_sentence_case",
              "is_legacy_usage",
              "name",
              "definition",
              "is_default_selected_for_activity",
              "is_data_sharing",
              "is_required_for_activity",
              "legacy_description",
              "is_research_lab"
            ],
            [
              "ActivityInstanceClass",
              "name",
              "definition",
              "level",
              "is_domain_specific",
              "order"
            ],
            [
              "ActivityItem",
              "is_adam_param_specific"
            ],
            [
              "ActivityItemClass",
              "name",
              "definition",
              "nci_concept_id",
              "order"
            ],
            [
              "CTTerm",
              "preferred_term",
              "concept_id",
              "synonyms",
              "name",
              "name_sentence_case",
              "definition"
            ],
            [
              "CTCodeList",
              "preferred_term",
              "concept_id",
              "synonyms",
              "name",
              "name_sentence_case",
              "definition",
              "extensible",
              "submission_value"
            ],
            [
              "HAS",
              "type"
            ],
            [
              "HAS_ACTIVITY",
              "type"
            ],
            [
              "OF_CLASS",
              "type"
            ],
            [
              "FOR",
              "type"
            ],
            [
              "HAS_ROLE",
              "type"
            ],
            [
              "HAS_TYPE",
              "type"
            ],
            [
              "HAS_GROUPING"
            ],
            [
              "IN_SUBGROUP"
            ],
            [
              "HAS_GROUP"
            ],
            [
              "IN_GROUP"
            ]
          ]
        }
      ]
    },
    {
      "title": "Activity Lib (Search Bottom-Up)",
      "reports": [
        {
          "id": "eca14906-56b8-4481-8f2b-7dd0af5ab271",
          "title": "Search Activity",
          "query": "MATCH (n:`ActivityValue`) \nWHERE toLower(toString(n.`name`)) CONTAINS toLower($input) \nRETURN DISTINCT n.`name` as value,  n.`name` as display ORDER BY size(toString(value)) ASC LIMIT 50",
          "width": 24,
          "height": 2,
          "x": 0,
          "y": 0,
          "type": "select",
          "selection": {},
          "settings": {
            "type": "Node Property",
            "entityType": "ActivityValue",
            "propertyType": "name",
            "propertyTypeDisplay": "name",
            "parameterName": "neodash_activityvalue_name",
            "multiSelector": true,
            "overridePropertyDisplayName": false,
            "clearParameterOnFieldClear": true,
            "manualPropertyNameSpecification": false,
            "helperText": "Select one or more Activities",
            "suggestionLimit": 50
          },
          "schema": []
        },
        {
          "id": "e0a486e2-b652-4375-b36f-57acf318277c",
          "title": "Groups for Selected Activity/Activities",
          "query": "MATCH(p_act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)-[R2:IN_SUBGROUP]->(sg:ActivityValidGroup)<-[R3:HAS_GROUP]-(p_asgrp:ActivitySubGroupValue),\n(sg)-[R4:IN_GROUP]->(p_agrp:ActivityGroupValue) where p_act.name in $neodash_activityvalue_name\nMATCH(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(p_ai:ActivityInstanceValue)<-[:LATEST]-()\nreturn p_act.name as Activity,\np_agrp.name as Group,\np_asgrp.name as `Subgroup`,\np_ai.adam_param_code as `Activity Instance (ADAM PARAM CODE)`,\np_ai.topic_code as `Activity Instance (TOPIC CODE)`,\n'Show Detail' as Select order by Activity, Group, `Subgroup`",
          "width": 24,
          "height": 4,
          "x": 0,
          "y": 6,
          "type": "table",
          "selection": {},
          "settings": {
            "refreshButtonEnabled": false,
            "actionsRules": [
              {
                "condition": "Click",
                "field": "Select",
                "value": "Activity Instance (ADAM PARAM CODE)",
                "customization": "set variable",
                "customizationValue": "detail"
              }
            ],
            "columnWidths": "[1,1,1,1,1,0.6]",
            "compact": true,
            "wrapContent": true,
            "noDataMessage": "Please select one or more activities in the search activity panel.",
            "ignoreNonDefinedParams": true
          },
          "schema": []
        },
        {
          "id": "51ddc5ee-2e17-44e1-99f1-8b2f95a8ba21",
          "title": "Activity Instance Detail - $neodash_detail",
          "query": "MATCH\n  (act:ActivityValue)-[R1:HAS_GROUPING]->\n  (g:ActivityGrouping)-[R2:IN_SUBGROUP]->\n  (sg:ActivityValidGroup)<-[R3:HAS_GROUP]-\n  (asgrp:ActivitySubGroupValue),\n  (sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue)\nMATCH\n  (g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-\n  (ai:ActivityInstanceValue)-[R6:CONTAINS_ACTIVITY_ITEM]->\n  (aitm1:ActivityItem),\n  (ai)<-[:LATEST]-() where ai.adam_param_code=$neodash_detail\nMATCH\n  (ai)-[R7:ACTIVITY_INSTANCE_CLASS]->\n  (aicr:ActivityInstanceClassRoot)-[R8:LATEST]->\n  (aic:ActivityInstanceClassValue)\nOPTIONAL MATCH\n  (aitm1)<-[R9:HAS_ACTIVITY_ITEM]-\n  (aitmc1r:ActivityItemClassRoot)-[R10:LATEST]->\n  (aitmc1:ActivityItemClassValue)\nOPTIONAL MATCH\n  (aicr)-[R11:PARENT_CLASS]->\n  (aicrp:ActivityInstanceClassRoot)-[R12:LATEST]->\n  (aicp:ActivityInstanceClassValue)\nOPTIONAL MATCH\n  (aicrp)-[R13:PARENT_CLASS]->\n  (aicrpp:ActivityInstanceClassRoot)-[R14:LATEST]->\n  (aicpp:ActivityInstanceClassValue)\nOPTIONAL MATCH (aitmc1r)<-[R15:HAS_ITEM_CLASS]-(aicr)\nOPTIONAL MATCH (aitmc1r)<-[R16:HAS_ITEM_CLASS]-(aicrp)\nOPTIONAL MATCH (aitmc1r)<-[R17:HAS_ITEM_CLASS]-(aicrpp)\n//Terms\nOPTIONAL MATCH\n  (aitm1)-[R18:HAS_CT_TERM]->\n  (ct_context:CTTermContext)-[R19:HAS_SELECTED_TERM]->\n  (ct2cd:CTTermRoot)-[R20:HAS_NAME_ROOT]->\n  (ct2cdr:CTTermNameRoot)-[R21:LATEST]->\n  (ct2_sponsor),\n  (ct2cd)-[R22:HAS_ATTRIBUTES_ROOT]->\n  (ct2att:CTTermAttributesRoot)-[R23:LATEST]->\n  (ct2_cdisc),\n  (ct2cd)<-[x1:HAS_TERM_ROOT]-\n  (term:CTCodelistTerm)<-[x2:HAS_TERM]-\n  (clr:CTCodelistRoot)<-[x3:HAS_SELECTED_CODELIST]-\n  (ct_context),\n  (ct2cd)<-[x4:CONTAINS_TERM]-(lib:Library)\nOPTIONAL MATCH\n  (ct_context)<-[x12:HAS_CT_DIMENSION]-(pos_units_in_dim:UnitDefinitionValue)\nOPTIONAL MATCH\n  (aitm1)-[x6:HAS_UNIT_DEFINITION]->\n  (unit_def_root:UnitDefinitionRoot)-[x7:LATEST]->\n  (unit_term:UnitDefinitionValue)-[x8:HAS_CT_DIMENSION]->\n  (ct_context2)-[x9:HAS_SELECTED_CODELIST]->\n  (cl_unit_root:CTCodelistRoot),\n  (cl_unit_root)-[x10:HAS_ATTRIBUTES_ROOT]-\n  (cl_unit_att:CTCodelistAttributesRoot)-[x11:LATEST]->\n  (cl_unit_cdisc:CTCodelistAttributesValue)\nOPTIONAL MATCH\n  (cl_unit_root)-[x13:HAS_NAME_ROOT]->\n  (clunit_attr:CTCodelistNameRoot)-[x14:LATEST]-\n  (cl_unit_sponsor)\nOPTIONAL MATCH\n  (clr:CTCodelistRoot)-[R27:HAS_ATTRIBUTES_ROOT]->\n  (clatt:CTCodelistAttributesRoot)-[R28:LATEST]->\n  (cl_cdisc:CTCodelistAttributesValue)\nOPTIONAL MATCH\n  (clr)-[R29:HAS_NAME_ROOT]->\n  (clattr:CTCodelistNameRoot)-[R30:LATEST]-\n  (cl_sponsor)\nOPTIONAL MATCH\n  (aitmc1)-[R39:HAS_ROLE]->(ct_context_role)-[y1:HAS_SELECTED_TERM]->\n  (role_r:CTTermRoot)-[R40:HAS_NAME_ROOT]->\n  (ctnr_role)-[R41:LATEST]->\n  (role_val)\nMATCH\n  (aitmc1)-[R43:HAS_DATA_TYPE]->(ct_context_dtype)-[y2:HAS_SELECTED_TERM]->(dtype_r),\n  (dtype_r)-[R44:HAS_NAME_ROOT]->(ctnr_dtype)-[R45:LATEST]->(dtype_val)\nWITH DISTINCT\n  g,\n  sg,\n  agrp,\n  asgrp,\n  act,\n  ai,\n  aitm1,\n  aitmc1r,\n  aitmc1,\n  aicrp,\n  aicp,\n  aicrpp,\n  aicpp,\n  ct2cd,\n  ct2cdr,\n  ct2_sponsor,\n  ct2att,\n  ct2_cdisc,\n  unit_def_root,\n  unit_term,\n  clr,\n  clatt,\n  clattr,\n  cl_sponsor,\n  cl_cdisc,\n  cl_unit_cdisc,\n  cl_unit_sponsor,\n  pos_units_in_dim,\n  role_r,\n  ctnr_role,\n  role_val,\n  dtype_r,\n  dtype_val,\n  CASE\n    WHEN pos_units_in_dim IS NOT NULL THEN pos_units_in_dim\n    ELSE\n      CASE\n        WHEN unit_term IS NOT NULL THEN unit_term\n        ELSE\n          CASE\n            WHEN\n              ct2cd IS NOT NULL\n              THEN\n                apoc.map.merge(properties(ct2_cdisc), properties(ct2_sponsor))\n          END\n      END\n  END AS ct2,\n  CASE\n    WHEN\n      clr IS NOT NULL\n      THEN apoc.map.merge(properties(cl_cdisc), properties(cl_sponsor))\n    ELSE\n      CASE\n        WHEN\n          cl_unit_root IS NOT NULL\n          THEN\n            apoc.map.merge(\n              properties(cl_unit_cdisc),\n              properties(cl_unit_sponsor)\n            )\n      END\n  END AS cl\nWITH DISTINCT\n  apoc.convert.toSet(collect(agrp.name)) AS ActivityGroup,\n  apoc.convert.toSet(collect(asgrp.name)) AS ActivitySubGroup,\n  act.name AS Activity,\n  ai.adam_param_code as `Activity Instance`,\n  aitmc1.name AS `Activity Item Class`,\n  ct2.name as terms,\n  CASE\n    WHEN ct2 IS NOT NULL THEN cl.name\n    ELSE\n      CASE\n        WHEN cl IS NOT NULL THEN cl.preferred_term\n      END\n  END AS `Code List`,\n  role_val.name AS Role,\n  dtype_val.name AS `Data Type`\nWITH\n  apoc.convert.toSet(apoc.coll.flatten(collect(ActivityGroup))) AS `Activity Group`,\n  apoc.convert.toSet(apoc.coll.flatten(collect(ActivitySubGroup))) AS `Activity Subgroup`,\n  Activity,\n  `Activity Instance`,\n  `Activity Item Class`,\n  apoc.convert.toSet(collect(terms)) AS Terms,\n  `Code List`,\n  Role,\n  `Data Type`\nreturn `Activity Group`,\n`Activity Subgroup`,\nActivity,\n`Activity Instance`,\n`Activity Item Class`,\napoc.text.join(Terms, \",\") as Term,\n`Code List`,\nRole,\n`Data Type`",
          "width": 24,
          "height": 4,
          "x": 0,
          "y": 10,
          "type": "table",
          "selection": {},
          "settings": {
            "refreshButtonEnabled": true,
            "fullscreenEnabled": true,
            "compact": true,
            "wrapContent": true,
            "noDataMessage": "Please select 'SHOW DETAIL' for one of the activity instances in the panel above.",
            "ignoreNonDefinedParams": true
          },
          "schema": []
        },
        {
          "id": "97dd35f9-9411-4b89-9bcd-9bdebdb027f0",
          "title": "Number of Subgroups for Selected Activity",
          "query": "MATCH(act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)-[R2:IN_SUBGROUP]->(sg:ActivityValidGroup)<-[R3:HAS_GROUP]-(asgrp:ActivitySubGroupValue),\n(sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue) where act.name in $neodash_activityvalue_name\nMATCH(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue)<-[:LATEST]-(),\n(ai)-[R42:ACTIVITY_INSTANCE_CLASS]->(aicr:ActivityInstanceClassRoot)-[R43:LATEST]->(aic:ActivityInstanceClassValue)\nMATCH (aicr)-[R10:PARENT_CLASS]->(aicrp:ActivityInstanceClassRoot)-[R11:LATEST]->(aicp:ActivityInstanceClassValue)\nwith distinct aicp.name as ActivityType,\naic.name as ActivitySubType,\nagrp.name as ActivityGroup, \nasgrp.name as ActiviySubGroup,\nact.name as activity,\n[agrp.name] as Groups,\n[asgrp.name] as SubGroups,\ncount(distinct asgrp.name) as N_subgroups,\ncount(distinct agrp.name) as N_groups\nreturn Groups,SubGroups,activity,N_groups,N_subgroups\n\n",
          "width": 12,
          "height": 4,
          "x": 12,
          "y": 2,
          "type": "bar",
          "selection": {
            "index": "activity",
            "value": "N_subgroups",
            "key": "SubGroups"
          },
          "settings": {
            "labelProperty": "SANKEY_UNWEIGHTED",
            "layout": "vertical",
            "refreshButtonEnabled": true,
            "fullscreenEnabled": true,
            "colors": "set1",
            "showOptionalSelections": true,
            "legend": true,
            "groupMode": "stacked",
            "barValues": true,
            "marginBottom": 150,
            "legendWidth": 205,
            "positionLabel": "off",
            "hideSelections": true,
            "noDataMessage": "Please select one or more activities in the search activity panel.",
            "ignoreNonDefinedParams": true
          },
          "schema": []
        },
        {
          "id": "c39ce16b-7619-4118-b1e2-cc65efadd267",
          "title": "Number of Groups for Selected Activity",
          "query": "MATCH(act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)-[R2:IN_SUBGROUP]->(sg:ActivityValidGroup)<-[R3:HAS_GROUP]-(asgrp:ActivitySubGroupValue),\n(sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue) where act.name in $neodash_activityvalue_name\nMATCH(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue)<-[:LATEST]-(),\n(ai)-[R42:ACTIVITY_INSTANCE_CLASS]->(aicr:ActivityInstanceClassRoot)-[R43:LATEST]->(aic:ActivityInstanceClassValue)\nMATCH (aicr)-[R10:PARENT_CLASS]->(aicrp:ActivityInstanceClassRoot)-[R11:LATEST]->(aicp:ActivityInstanceClassValue)\nwith distinct aicp.name as ActivityType,\naic.name as ActivitySubType,\nagrp.name as ActivityGroup, \nasgrp.name as ActiviySubGroup,\nact.name as activity,\n[agrp.name] as Groups,\n[asgrp.name] as SubGroups,\ncount(distinct asgrp.name) as N_subgroups,\ncount(distinct agrp.name) as N_groups\nreturn Groups,SubGroups,activity,N_groups,N_subgroups\n\n",
          "width": 12,
          "height": 4,
          "x": 0,
          "y": 2,
          "type": "bar",
          "selection": {
            "index": "activity",
            "value": "N_groups",
            "key": "Groups"
          },
          "settings": {
            "labelProperty": "SANKEY_UNWEIGHTED",
            "layout": "vertical",
            "refreshButtonEnabled": true,
            "fullscreenEnabled": true,
            "colors": "set3",
            "showOptionalSelections": true,
            "legend": true,
            "groupMode": "stacked",
            "barValues": true,
            "marginBottom": 150,
            "legendWidth": 205,
            "positionLabel": "off",
            "hideSelections": true,
            "noDataMessage": "Please select one or more activities in the search activity panel.",
            "ignoreNonDefinedParams": true
          },
          "schema": []
        }
      ]
    },
    {
      "title": "Activity to SDTM",
      "reports": [
        {
          "title": "Select SDTM Version",
          "query": "match (n1:DataModelIGRoot{uid:'SDTMIG'})-[:HAS_VERSION]->(n:DataModelIGValue) return 'Select' as Click, n.name as IG, n.description as Description, n.effective_date as `Effective Date`, n.version_number as `Version Number` order by `Effective Date` desc\n\n",
          "width": 14,
          "height": 6,
          "x": 10,
          "y": 0,
          "type": "table",
          "selection": {},
          "settings": {
            "type": "Node Property",
            "entityType": "DataModelVersion",
            "propertyType": "version_number",
            "propertyTypeDisplay": "version_number",
            "parameterName": "neodash_datamodelversion_version_number",
            "suggestionLimit": 10,
            "clearParameterOnFieldClear": true,
            "columnWidths": "[1.4,1.5,6,1.5,1.5]",
            "refreshButtonEnabled": true,
            "actionsRules": [
              {
                "condition": "Click",
                "field": "Click",
                "value": "Version Number",
                "customization": "set variable",
                "customizationValue": "sdtmversion"
              }
            ],
            "compact": true,
            "wrapContent": true
          },
          "id": "2eb83ba7-a1ae-4d83-ac14-55a9d89e19d6",
          "schema": []
        },
        {
          "title": "Activity Mapped to SDTM - $neodash_activity_instance_sdtm",
          "query": "//Activity mapped to SDTM\nMATCH\n  (act:ActivityValue)-[R1:HAS_GROUPING]->\n  (g:ActivityGrouping)-[R2:IN_SUBGROUP]->\n  (sg:ActivityValidGroup)<-[R3:HAS_GROUP]-\n  (asgrp:ActivitySubGroupValue),\n  (sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue)\nMATCH\n  (g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-\n  (ai:ActivityInstanceValue)-[R6:CONTAINS_ACTIVITY_ITEM]->\n  (aitm1:ActivityItem),\n  (ai)<-[:LATEST]-()\nWHERE ai.adam_param_code = $neodash_activity_instance_sdtm\nMATCH\n  (ai)-[R7:ACTIVITY_INSTANCE_CLASS]->\n  (aicr:ActivityInstanceClassRoot)-[R8:LATEST]->\n  (aic:ActivityInstanceClassValue)\nOPTIONAL MATCH\n  (aitm1)<-[R9:HAS_ACTIVITY_ITEM]-\n  (aitmc1r:ActivityItemClassRoot)-[R10:LATEST]->\n  (aitmc1:ActivityItemClassValue)\nOPTIONAL MATCH\n  (aicr)-[R11:PARENT_CLASS]->\n  (aicrp:ActivityInstanceClassRoot)-[R12:LATEST]->\n  (aicp:ActivityInstanceClassValue)\nOPTIONAL MATCH\n  (aicrp)-[R13:PARENT_CLASS]->\n  (aicrpp:ActivityInstanceClassRoot)-[R14:LATEST]->\n  (aicpp:ActivityInstanceClassValue)\nOPTIONAL MATCH (aitmc1r)<-[R15:HAS_ITEM_CLASS]-(aicr)\nOPTIONAL MATCH (aitmc1r)<-[R16:HAS_ITEM_CLASS]-(aicrp)\nOPTIONAL MATCH (aitmc1r)<-[R17:HAS_ITEM_CLASS]-(aicrpp)\n//Terms\nOPTIONAL MATCH\n  (aitm1)-[R18:HAS_CT_TERM]->\n  (ct_context:CTTermContext)-[R19:HAS_SELECTED_TERM]->\n  (ct2cd:CTTermRoot)-[R20:HAS_NAME_ROOT]->\n  (ct2cdr:CTTermNameRoot)-[R21:LATEST]->\n  (ct2_sponsor),\n  (ct2cd)-[R22:HAS_ATTRIBUTES_ROOT]->\n  (ct2att:CTTermAttributesRoot)-[R23:LATEST]->\n  (ct2_cdisc),\n  (ct2cd)<-[x1:HAS_TERM_ROOT]-\n  (term:CTCodelistTerm)<-[x2:HAS_TERM]-\n  (clr:CTCodelistRoot)<-[x3:HAS_SELECTED_CODELIST]-\n  (ct_context),\n  (ct2cd)<-[x4:CONTAINS_TERM]-(lib:Library)\nOPTIONAL MATCH\n  (ct_context)<-[x12:HAS_CT_DIMENSION]-(pos_units_in_dim:UnitDefinitionValue)\nOPTIONAL MATCH\n  (aitm1)-[x6:HAS_UNIT_DEFINITION]->\n  (unit_def_root:UnitDefinitionRoot)-[x7:LATEST]->\n  (unit_term:UnitDefinitionValue)-[x8:HAS_CT_DIMENSION]->\n  (ct_context2)-[x9:HAS_SELECTED_CODELIST]->\n  (cl_unit_root:CTCodelistRoot),\n  (cl_unit_root)-[x10:HAS_ATTRIBUTES_ROOT]-\n  (cl_unit_att:CTCodelistAttributesRoot)-[x11:LATEST]->\n  (cl_unit_cdisc:CTCodelistAttributesValue)\nOPTIONAL MATCH\n  (cl_unit_root)-[x13:HAS_NAME_ROOT]->\n  (clunit_attr:CTCodelistNameRoot)-[x14:LATEST]-\n  (cl_unit_sponsor)\nOPTIONAL MATCH\n  (clr:CTCodelistRoot)-[R27:HAS_ATTRIBUTES_ROOT]->\n  (clatt:CTCodelistAttributesRoot)-[R28:LATEST]->\n  (cl_cdisc:CTCodelistAttributesValue)\nOPTIONAL MATCH\n  (clr)-[R29:HAS_NAME_ROOT]->\n  (clattr:CTCodelistNameRoot)-[R30:LATEST]-\n  (cl_sponsor)\nOPTIONAL MATCH\n  (aitmc1)-[R39:HAS_ROLE]->\n  (ct_context_role)-[y1:HAS_SELECTED_TERM]->\n  (role_r:CTTermRoot)-[R40:HAS_NAME_ROOT]->\n  (ctnr_role)-[R41:LATEST]->\n  (role_val)\nMATCH\n  (aitmc1)-[R43:HAS_DATA_TYPE]->\n  (ct_context_dtype)-[y2:HAS_SELECTED_TERM]->\n  (dtype_r),\n  (dtype_r)-[R44:HAS_NAME_ROOT]->(ctnr_dtype)-[R45:LATEST]->(dtype_val)\n\nOPTIONAL MATCH\n  (ai:ActivityInstanceValue)-[r1:CONTAINS_ACTIVITY_ITEM]->\n  (aitm1_dom:ActivityItem)<-[r2:HAS_ACTIVITY_ITEM]-\n  (n1:ActivityItemClassRoot)-[r3:MAPS_VARIABLE_CLASS]->\n  (dom_class:VariableClass {uid: 'DOMAIN'}),\n  (aitm1_dom)-[:HAS_CT_TERM]->\n  (:CTTermContext)-[:HAS_SELECTED_TERM]->\n  (:CTTermRoot)<-[:HAS_TERM_ROOT]-\n  (ct2_dom:CTCodelistTerm),\n  (dom_class)-[r4:HAS_INSTANCE]->\n  (n3:VariableClassInstance)<-\n    [r5:IMPLEMENTS_VARIABLE {version_number: $neodash_sdtmversion}]-\n  (n4:DatasetVariableInstance)<-\n    [r6:HAS_DATASET_VARIABLE {version_number: $neodash_sdtmversion}]-\n  (n5:DatasetInstance)<-[r7:HAS_INSTANCE]-\n  (ds:Dataset)\nWHERE ds.uid = ct2_dom.submission_value\n\nOPTIONAL MATCH\n  (aitm1:ActivityItem)<-[:HAS_ACTIVITY_ITEM]-\n  (aitmc1r)-[R46:MAPS_VARIABLE_CLASS]->\n  (varcl:VariableClass)-[R47:HAS_INSTANCE]->\n  (varcli:VariableClassInstance),\n  (varcli)<-[R48:IMPLEMENTS_VARIABLE {version_number: $neodash_sdtmversion}]-\n  (dci:DatasetVariableInstance)<-\n    [R49:HAS_DATASET_VARIABLE {version_number: $neodash_sdtmversion}]-\n  (dsi:DatasetInstance)<-[R50:HAS_INSTANCE]-\n  (ds:Dataset)<-[R51:HAS_DATASET]-\n  (dmcat:DataModelCatalogue)-[R52:CONTAINS_VERSION]->\n  (dmig:DataModelVersion),\n  (dsi)<-[R53:HAS_DATASET]-\n  (dmigv:DataModelIGValue)<-[R54:CONTAINS_DATA_MODEL_IG]-\n  (dmig),\n  (dci)<-[:HAS_INSTANCE]-(ds_var:DatasetVariable)\nWHERE dmigv.version_number = $neodash_sdtmversion\nWITH DISTINCT\n  act.name AS Activity,\n  ai.name AS `Activity Instance`,\n  aitmc1.name AS `Activity Item Class`,\n  varcl.uid AS `Variable Class`,\n  ds_var.uid AS `SDTMIG Variable`,\n  dci.label AS `SDTMIG Variable Label`,\n  ds.uid AS `SDTMIG Dataset`,\n  dsi.label AS `SDTMIG Dataset Label`,\n  aitmc1.order AS item_order\nRETURN\n  Activity,\n  `Activity Instance`,\n  `Activity Item Class`,\n  `Variable Class`,\n  `SDTMIG Variable`,\n  `SDTMIG Variable Label`,\n  `SDTMIG Dataset`,\n  `SDTMIG Dataset Label`\nORDER BY `Activity Instance`, item_order",
          "width": 24,
          "height": 6,
          "x": 0,
          "y": 6,
          "type": "table",
          "selection": {},
          "settings": {
            "compact": true,
            "allowDownload": true,
            "wrapContent": true,
            "ignoreNonDefinedParams": false
          },
          "id": "030f513f-dc9d-4692-a08f-a136584db365",
          "schema": []
        },
        {
          "id": "0894bb17-3aaa-4c4a-9372-93e95422f362",
          "title": "Select Activity Instance",
          "query": "MATCH(p_act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)-[R2:IN_SUBGROUP]->(sg:ActivityValidGroup)<-[R3:HAS_GROUP]-(p_asgrp:ActivitySubGroupValue),\n(sg)-[R4:IN_GROUP]->(p_agrp:ActivityGroupValue) where p_asgrp.name=$neodash_activitysubgroupvalue_name\nMATCH(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(p_ai:ActivityInstanceValue)<-[:LATEST]-()\nreturn p_agrp.name as `Activity Group`, p_asgrp.name as `Activity Subgroup`, p_act.name as Activity, p_ai.adam_param_code as `Activity Instance` order by Activity\n",
          "width": 10,
          "height": 4,
          "x": 0,
          "y": 2,
          "type": "table",
          "selection": {},
          "settings": {
            "fontSize": 20,
            "actionsRules": [
              {
                "condition": "Click",
                "field": "Activity Instance",
                "value": "ActivityInstance",
                "customization": "set variable",
                "customizationValue": "activity_instance_sdtm"
              }
            ],
            "compact": true,
            "wrapContent": true,
            "columnWidths": "[1,1,1,0.8]",
            "refreshButtonEnabled": true,
            "ignoreNonDefinedParams": false
          },
          "schema": []
        },
        {
          "id": "93059873-3ac9-464e-bc2b-72f5fb9ddcdf",
          "title": "Activity with Links to SDTM - $neodash_activity_instance_sdtm",
          "query": "//Activity mapped to SDTM\nMATCH\n  (act:ActivityValue)-[R1:HAS_GROUPING]->\n  (g:ActivityGrouping)-[R2:IN_SUBGROUP]->\n  (sg:ActivityValidGroup)<-[R3:HAS_GROUP]-\n  (asgrp:ActivitySubGroupValue),\n  (sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue)\nMATCH\n  (g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-\n  (ai:ActivityInstanceValue)-[R6:CONTAINS_ACTIVITY_ITEM]->\n  (aitm1:ActivityItem),\n  (ai)<-[:LATEST]-()\nWHERE ai.adam_param_code = $neodash_detail\nMATCH\n  (ai)-[R7:ACTIVITY_INSTANCE_CLASS]->\n  (aicr:ActivityInstanceClassRoot)-[R8:LATEST]->\n  (aic:ActivityInstanceClassValue)\nOPTIONAL MATCH\n  (aitm1)<-[R9:HAS_ACTIVITY_ITEM]-\n  (aitmc1r:ActivityItemClassRoot)-[R10:LATEST]->\n  (aitmc1:ActivityItemClassValue)\nOPTIONAL MATCH\n  (aicr)-[R11:PARENT_CLASS]->\n  (aicrp:ActivityInstanceClassRoot)-[R12:LATEST]->\n  (aicp:ActivityInstanceClassValue)\nOPTIONAL MATCH\n  (aicrp)-[R13:PARENT_CLASS]->\n  (aicrpp:ActivityInstanceClassRoot)-[R14:LATEST]->\n  (aicpp:ActivityInstanceClassValue)\nOPTIONAL MATCH (aitmc1r)<-[R15:HAS_ITEM_CLASS]-(aicr)\nOPTIONAL MATCH (aitmc1r)<-[R16:HAS_ITEM_CLASS]-(aicrp)\nOPTIONAL MATCH (aitmc1r)<-[R17:HAS_ITEM_CLASS]-(aicrpp)\n//Terms\nOPTIONAL MATCH\n  (aitm1)-[R18:HAS_CT_TERM]->\n  (ct_context:CTTermContext)-[R19:HAS_SELECTED_TERM]->\n  (ct2cd:CTTermRoot)-[R20:HAS_NAME_ROOT]->\n  (ct2cdr:CTTermNameRoot)-[R21:LATEST]->\n  (ct2_sponsor),\n  (ct2cd)-[R22:HAS_ATTRIBUTES_ROOT]->\n  (ct2att:CTTermAttributesRoot)-[R23:LATEST]->\n  (ct2_cdisc),\n  (ct2cd)<-[R24:HAS_TERM_ROOT]-\n  (term:CTCodelistTerm)<-[R25:HAS_TERM]-\n  (clr:CTCodelistRoot)<-[R26:HAS_SELECTED_CODELIST]-\n  (ct_context),\n  (ct2cd)<-[R27:CONTAINS_TERM]-(lib:Library)\nOPTIONAL MATCH\n  (ct_context)<-[R28:HAS_CT_DIMENSION]-(pos_units_in_dim:UnitDefinitionValue)\nOPTIONAL MATCH\n  (aitm1)-[R29:HAS_UNIT_DEFINITION]->\n  (unit_def_root:UnitDefinitionRoot)-[R30:LATEST]->\n  (unit_term:UnitDefinitionValue)-[R31:HAS_CT_DIMENSION]->\n  (ct_context2)-[R32:HAS_SELECTED_CODELIST]->\n  (cl_unit_root:CTCodelistRoot),\n  (cl_unit_root)-[R33:HAS_ATTRIBUTES_ROOT]-\n  (cl_unit_att:CTCodelistAttributesRoot)-[R34:LATEST]->\n  (cl_unit_cdisc:CTCodelistAttributesValue)\nOPTIONAL MATCH\n  (cl_unit_root)-[R35:HAS_NAME_ROOT]->\n  (clunit_attr:CTCodelistNameRoot)-[R36:LATEST]-\n  (cl_unit_sponsor)\nOPTIONAL MATCH\n  (clr:CTCodelistRoot)-[R37:HAS_ATTRIBUTES_ROOT]->\n  (clatt:CTCodelistAttributesRoot)-[R38:LATEST]->\n  (cl_cdisc:CTCodelistAttributesValue)\nOPTIONAL MATCH\n  (clr)-[R39:HAS_NAME_ROOT]->\n  (clattr:CTCodelistNameRoot)-[R40:LATEST]-\n  (cl_sponsor)\nOPTIONAL MATCH\n  (aitmc1)-[R41:HAS_ROLE]->\n  (ct_context_role)-[R42:HAS_SELECTED_TERM]->\n  (role_r:CTTermRoot)-[R43:HAS_NAME_ROOT]->\n  (ctnr_role)-[R44:LATEST]->\n  (role_val)\nMATCH\n  (aitmc1)-[R45:HAS_DATA_TYPE]->\n  (ct_context_dtype)-[R46:HAS_SELECTED_TERM]->\n  (dtype_r),\n  (dtype_r)-[R47:HAS_NAME_ROOT]->(ctnr_dtype)-[R48:LATEST]->(dtype_val)\n\nOPTIONAL MATCH\n  (ai:ActivityInstanceValue)-[R49:CONTAINS_ACTIVITY_ITEM]->\n  (aitm1_dom:ActivityItem)<-[R50:HAS_ACTIVITY_ITEM]-\n  (n1:ActivityItemClassRoot)-[R51:MAPS_VARIABLE_CLASS]->\n  (dom_class:VariableClass {uid: 'DOMAIN'}),\n  (aitm1_dom)-[R52:HAS_CT_TERM]->\n  (:CTTermContext)-[R53:HAS_SELECTED_TERM]->\n  (:CTTermRoot)<-[R54:HAS_TERM_ROOT]-\n  (ct2_dom:CTCodelistTerm),\n  (dom_class)-[R55:HAS_INSTANCE]->\n  (n3:VariableClassInstance)<-\n    [R56:IMPLEMENTS_VARIABLE {version_number: $neodash_sdtmversion}]-\n  (n4:DatasetVariableInstance)<-\n    [R57:HAS_DATASET_VARIABLE {version_number: $neodash_sdtmversion}]-\n  (n5:DatasetInstance)<-[R58:HAS_INSTANCE]-\n  (ds:Dataset)\nWHERE ds.uid = ct2_dom.submission_value\n\nOPTIONAL MATCH\n  (aitm1:ActivityItem)<-[R59:HAS_ACTIVITY_ITEM]-\n  (aitmc1r)-[R60:MAPS_VARIABLE_CLASS]->\n  (varcl:VariableClass)-[R61:HAS_INSTANCE]->\n  (varcli:VariableClassInstance),\n  (varcli)<-[R62:IMPLEMENTS_VARIABLE {version_number: $neodash_sdtmversion}]-\n  (dci:DatasetVariableInstance)<-\n    [R63:HAS_DATASET_VARIABLE {version_number: $neodash_sdtmversion}]-\n  (dsi:DatasetInstance)<-[R64:HAS_INSTANCE]-\n  (ds:Dataset)<-[R51:HAS_DATASET]-\n  (dmcat:DataModelCatalogue)-[R65:CONTAINS_VERSION]->\n  (dmig:DataModelVersion),\n  (dsi)<-[R66:HAS_DATASET]-\n  (dmigv:DataModelIGValue)<-[R67:CONTAINS_DATA_MODEL_IG]-\n  (dmig),\n  (dci)<-[R69:HAS_INSTANCE]-(ds_var:DatasetVariable)\nWHERE dmigv.version_number = $neodash_sdtmversion\nreturn *",
          "width": 24,
          "height": 8,
          "x": 0,
          "y": 12,
          "type": "graph",
          "selection": {
            "HAS_GROUPING": "(label)",
            "LATEST": "(label)",
            "PARENT_CLASS": "(label)",
            "HAS_ITEM_CLASS": "(label)",
            "HAS_CT_TERM": "(label)",
            "HAS_SELECTED_TERM": "(label)",
            "IN_SUBGROUP": "(label)",
            "HAS_NAME_ROOT": "(label)",
            "HAS_ATTRIBUTES_ROOT": "(label)",
            "HAS_TERM_ROOT": "(label)",
            "HAS_TERM": "(label)",
            "HAS_SELECTED_CODELIST": "(label)",
            "CONTAINS_TERM": "(label)",
            "HAS_GROUP": "(label)",
            "IN_GROUP": "(label)",
            "HAS_ROLE": "(label)",
            "HAS_DATA_TYPE": "(label)",
            "CONTAINS_ACTIVITY_ITEM": "(label)",
            "HAS_ACTIVITY": "(label)",
            "HAS_ACTIVITY_ITEM": "(label)",
            "MAPS_VARIABLE_CLASS": "(label)",
            "HAS_INSTANCE": "(label)",
            "IMPLEMENTS_VARIABLE": "(label)",
            "HAS_DATASET_VARIABLE": "(label)",
            "ACTIVITY_INSTANCE_CLASS": "(label)",
            "TemplateParameterTermValue": "name",
            "ConceptValue": "name",
            "ActivityValue": "name",
            "ActivityGroupValue": "name",
            "ActivityInstanceValue": "name",
            "ActivityInstanceClassValue": "name",
            "ActivityInstanceClassRoot": "uid",
            "ActivityItem": "(label)",
            "ActivityItemClassValue": "name",
            "ActivityItemClassRoot": "uid",
            "ActivitySubGroupValue": "name",
            "CTCodelistAttributesValue": "name",
            "CTCodelistNameValue": "name",
            "CTCodelistAttributesRoot": "(label)",
            "CTCodelistNameRoot": "(label)",
            "CTCodelistRoot": "uid",
            "CTTermAttributesValue": "(label)",
            "CTCodelistTerm": "(label)",
            "CTTermNameValue": "name",
            "CTTermAttributesRoot": "(label)",
            "CTTermRoot": "uid",
            "CTTermNameRoot": "uid",
            "CTTermContext": "(label)",
            "TemplateParameterTermRoot": "uid",
            "VariableClass": "uid",
            "Dataset": "uid",
            "ActivityGrouping": "uid",
            "Library": "name",
            "VariableClassInstance": "title",
            "DatasetVariableInstance": "title",
            "DatasetInstance": "title",
            "ActivityValidGroup": "uid",
            "HAS_CT_DIMENSION": "(label)",
            "UnitDefinitionValue": "name",
            "HAS_UNIT_DEFINITION": "(label)",
            "ConceptRoot": "uid",
            "UnitDefinitionRoot": "uid"
          },
          "settings": {
            "frozen": false,
            "nodePositions": {},
            "defaultNodeSize": 4,
            "showPropertiesOnHover": false,
            "allowDownload": false,
            "hideSelections": true,
            "refreshButtonEnabled": true
          },
          "schema": [
            [
              "HAS_GROUPING"
            ],
            [
              "LATEST"
            ],
            [
              "PARENT_CLASS"
            ],
            [
              "HAS_ITEM_CLASS",
              "is_adam_param_specific_enabled",
              "mandatory"
            ],
            [
              "HAS_CT_TERM"
            ],
            [
              "HAS_SELECTED_TERM"
            ],
            [
              "IN_SUBGROUP"
            ],
            [
              "HAS_NAME_ROOT"
            ],
            [
              "HAS_ATTRIBUTES_ROOT"
            ],
            [
              "HAS_TERM_ROOT"
            ],
            [
              "HAS_TERM",
              "start_date",
              "author_id",
              "order"
            ],
            [
              "HAS_SELECTED_CODELIST"
            ],
            [
              "CONTAINS_TERM"
            ],
            [
              "HAS_GROUP"
            ],
            [
              "IN_GROUP"
            ],
            [
              "HAS_ROLE"
            ],
            [
              "HAS_DATA_TYPE"
            ],
            [
              "CONTAINS_ACTIVITY_ITEM"
            ],
            [
              "HAS_ACTIVITY"
            ],
            [
              "HAS_ACTIVITY_ITEM"
            ],
            [
              "MAPS_VARIABLE_CLASS"
            ],
            [
              "HAS_INSTANCE"
            ],
            [
              "IMPLEMENTS_VARIABLE",
              "version_number",
              "catalogue"
            ],
            [
              "HAS_DATASET_VARIABLE",
              "version_number",
              "ordinal"
            ],
            [
              "ACTIVITY_INSTANCE_CLASS"
            ],
            [
              "TemplateParameterTermValue",
              "synonyms",
              "name",
              "is_request_rejected",
              "name_sentence_case",
              "is_data_collected",
              "is_request_final",
              "is_multiple_selection_allowed",
              "definition",
              "topic_code",
              "is_derived",
              "adam_param_code",
              "is_default_selected_for_activity",
              "is_data_sharing",
              "legacy_description",
              "is_required_for_activity",
              "is_research_lab",
              "is_legacy_usage",
              "us_conventional_unit",
              "display_unit",
              "si_unit",
              "master_unit",
              "use_complex_unit_conversion",
              "use_molecular_weight",
              "convertible_unit",
              "conversion_factor_to_master",
              "order",
              "legacy_code"
            ],
            [
              "ConceptValue",
              "synonyms",
              "name",
              "is_request_rejected",
              "name_sentence_case",
              "is_data_collected",
              "is_request_final",
              "is_multiple_selection_allowed",
              "definition",
              "topic_code",
              "is_derived",
              "adam_param_code",
              "is_default_selected_for_activity",
              "is_data_sharing",
              "legacy_description",
              "is_required_for_activity",
              "is_research_lab",
              "is_legacy_usage",
              "us_conventional_unit",
              "display_unit",
              "si_unit",
              "master_unit",
              "use_complex_unit_conversion",
              "use_molecular_weight",
              "convertible_unit",
              "conversion_factor_to_master",
              "order",
              "legacy_code"
            ],
            [
              "ActivityValue",
              "synonyms",
              "name",
              "is_request_rejected",
              "name_sentence_case",
              "is_data_collected",
              "is_request_final",
              "is_multiple_selection_allowed"
            ],
            [
              "ActivityGroupValue",
              "name",
              "name_sentence_case",
              "definition"
            ],
            [
              "ActivityInstanceValue",
              "topic_code",
              "is_derived",
              "adam_param_code",
              "name",
              "name_sentence_case",
              "definition",
              "is_default_selected_for_activity",
              "is_data_sharing",
              "legacy_description",
              "is_required_for_activity",
              "is_research_lab",
              "is_legacy_usage"
            ],
            [
              "ActivityInstanceClassValue",
              "level",
              "is_domain_specific",
              "name",
              "definition",
              "order"
            ],
            [
              "ActivityInstanceClassRoot",
              "uid"
            ],
            [
              "ActivityItem",
              "is_adam_param_specific"
            ],
            [
              "ActivityItemClassValue",
              "nci_concept_id",
              "name",
              "definition",
              "order"
            ],
            [
              "ActivityItemClassRoot",
              "uid"
            ],
            [
              "ActivitySubGroupValue",
              "name",
              "name_sentence_case"
            ],
            [
              "CTCodelistAttributesValue",
              "preferred_term",
              "concept_id",
              "synonyms",
              "name",
              "definition",
              "extensible",
              "submission_value",
              "ordinal"
            ],
            [
              "CTCodelistNameValue",
              "name",
              "name_sentence_case"
            ],
            [
              "CTCodelistAttributesRoot"
            ],
            [
              "CTCodelistNameRoot"
            ],
            [
              "CTCodelistRoot",
              "uid"
            ],
            [
              "CTTermAttributesValue",
              "preferred_term",
              "concept_id",
              "synonyms",
              "definition"
            ],
            [
              "CTCodelistTerm",
              "submission_value"
            ],
            [
              "CTTermNameValue",
              "name",
              "name_sentence_case"
            ],
            [
              "CTTermAttributesRoot"
            ],
            [
              "CTTermRoot",
              "uid"
            ],
            [
              "CTTermNameRoot",
              "uid"
            ],
            [
              "CTTermContext"
            ],
            [
              "TemplateParameterTermRoot",
              "uid"
            ],
            [
              "VariableClass",
              "uid"
            ],
            [
              "Dataset",
              "uid"
            ],
            [
              "ActivityGrouping",
              "uid"
            ],
            [
              "Library",
              "name",
              "is_editable"
            ],
            [
              "VariableClassInstance",
              "role",
              "simple_datatype",
              "description",
              "label",
              "title",
              "role_description"
            ],
            [
              "DatasetVariableInstance",
              "core",
              "role",
              "simple_datatype",
              "description",
              "label",
              "value_list",
              "title"
            ],
            [
              "DatasetInstance",
              "description",
              "label",
              "title"
            ],
            [
              "ActivityValidGroup",
              "uid"
            ],
            [
              "HAS_CT_DIMENSION"
            ],
            [
              "UnitDefinitionValue",
              "us_conventional_unit",
              "display_unit",
              "si_unit",
              "master_unit",
              "name",
              "definition",
              "use_complex_unit_conversion",
              "use_molecular_weight",
              "convertible_unit",
              "conversion_factor_to_master",
              "order",
              "legacy_code"
            ],
            [
              "HAS_UNIT_DEFINITION"
            ],
            [
              "ConceptRoot",
              "uid"
            ],
            [
              "UnitDefinitionRoot",
              "uid"
            ]
          ]
        },
        {
          "id": "2f622816-92e9-4b7a-b0a9-e96f044f4aaf",
          "title": "Limit List of Activities",
          "query": "MATCH (n:`ActivitySubGroupValue`) \nWHERE toLower(toString(n.`name`)) CONTAINS toLower($input) \nRETURN DISTINCT n.`name` as value,  n.`name` as display ORDER BY size(toString(value)) ASC LIMIT 20",
          "width": 10,
          "height": 2,
          "x": 0,
          "y": 0,
          "type": "select",
          "selection": {},
          "settings": {
            "type": "Node Property",
            "entityType": "ActivitySubGroupValue",
            "suggestionLimit": 20,
            "propertyType": "name",
            "propertyTypeDisplay": "name",
            "parameterName": "neodash_activitysubgroupvalue_name"
          },
          "schema": []
        }
      ]
    },
    {
      "title": "Activity in COSMOS Format",
      "reports": [
        {
          "title": "Select Activity",
          "query": "CALL apoc.when($neodash_limit_list='','MATCH(act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)-[R2:IN_SUBGROUP]->(sg:ActivityValidGroup)<-[R3:HAS_GROUP]-(asgrp:ActivitySubGroupValue),\n(sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue),\n(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue)<-[:LATEST]-()\nreturn agrp.name as ActivityGroup, asgrp.name as ActivitySubGroup, act.name as Activity, ai.name as `Instance Name`,ai.adam_param_code as ActivityInstance','MATCH(act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)-[R2:IN_SUBGROUP]->(sg:ActivityValidGroup)<-[R3:HAS_GROUP]-(asgrp:ActivitySubGroupValue),\n(sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue),\n(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue) where asgrp.name in [$a] \nreturn agrp.name as ActivityGroup, asgrp.name as ActivitySubGroup, act.name as Activity, ai.name as `Instance Name`, ai.adam_param_code as ActivityInstance ', {a:$neodash_limit_list}) YIELD value\nreturn distinct value.ActivityGroup as `Activity Group`,\nvalue.ActivitySubGroup as `Activity Subgroup`,\nvalue.Activity as Activity, 'click' as `Select Activity` order by Activity",
          "width": 16,
          "height": 4,
          "x": 8,
          "y": 0,
          "type": "table",
          "selection": {},
          "settings": {
            "type": "Free Text",
            "entityType": "activity_instance",
            "clearParameterOnFieldClear": true,
            "parameterName": "neodash_activity_instance",
            "actionsRules": [
              {
                "condition": "Click",
                "field": "Select Activity",
                "value": "Activity",
                "customization": "set variable",
                "customizationValue": "cosmos_activity"
              }
            ],
            "compact": true,
            "columnWidths": "[1,2,3,0.7]",
            "wrapContent": true
          },
          "id": "12f56131-56de-4ae8-84c2-1336842643e5",
          "schema": []
        },
        {
          "title": "Limit List (Search Activity Subgroup)",
          "query": "MATCH (n:`ActivitySubGroupValue`) \nWHERE toLower(toString(n.`name`)) CONTAINS toLower($input) \nRETURN DISTINCT n.`name` as value,  n.`name` as display ORDER BY size(toString(value)) ASC LIMIT 100",
          "width": 8,
          "height": 2,
          "x": 0,
          "y": 0,
          "type": "select",
          "selection": {},
          "settings": {
            "type": "Node Property",
            "entityType": "ActivitySubGroupValue",
            "propertyType": "name",
            "propertyTypeDisplay": "name",
            "parameterName": "neodash_limit_list",
            "clearParameterOnFieldClear": false,
            "suggestionLimit": 100
          },
          "id": "da467d2e-7244-4aea-9b10-1a9cf22e5367",
          "schema": []
        },
        {
          "title": "Selected Activity",
          "query": "return $neodash_cosmos_activity\n\n",
          "width": 8,
          "height": 2,
          "x": 0,
          "y": 2,
          "type": "value",
          "selection": {},
          "settings": {
            "fontSize": 30,
            "backgroundColor": "#0000001C",
            "monospace": true,
            "textAlign": "center",
            "verticalAlign": "middle"
          },
          "id": "e3ef405e-a126-4873-8006-5299fff510d4",
          "schema": []
        },
        {
          "id": "3d05187e-4292-40e2-a9dc-0ed8f0d54392",
          "title": "Activity as COSMOS SDTM Dataset Specialization - $neodash_cosmos_instance",
          "query": "///SDTM specialiation\nMATCH\n  (act:ActivityValue)-[R1:HAS_GROUPING]->\n  (g:ActivityGrouping)-[R2:IN_SUBGROUP]->\n  (sg:ActivityValidGroup)<-[R3:HAS_GROUP]-\n  (asgrp:ActivitySubGroupValue),\n  (sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue)\nMATCH\n  (g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-\n  (ai:ActivityInstanceValue)-[R6:CONTAINS_ACTIVITY_ITEM]->\n  (aitm1:ActivityItem),\n  (ai)<-[:LATEST]-()\nWHERE ai.adam_param_code = $neodash_cosmos_instance\nMATCH\n  (ai)-[R7:ACTIVITY_INSTANCE_CLASS]->\n  (aicr:ActivityInstanceClassRoot)-[R8:LATEST]->\n  (aic:ActivityInstanceClassValue)\nOPTIONAL MATCH\n  (aitm1)<-[R9:HAS_ACTIVITY_ITEM]-\n  (aitmc1r:ActivityItemClassRoot)-[R10:LATEST]->\n  (aitmc1:ActivityItemClassValue)\nOPTIONAL MATCH\n  (aicr)-[R11:PARENT_CLASS]->\n  (aicrp:ActivityInstanceClassRoot)-[R12:LATEST]->\n  (aicp:ActivityInstanceClassValue)\nOPTIONAL MATCH\n  (aicrp)-[R13:PARENT_CLASS]->\n  (aicrpp:ActivityInstanceClassRoot)-[R14:LATEST]->\n  (aicpp:ActivityInstanceClassValue)\nOPTIONAL MATCH (aitmc1r)<-[is_mandatory_data1:HAS_ITEM_CLASS]-(aicr)\nOPTIONAL MATCH (aitmc1r)<-[is_mandatory_data2:HAS_ITEM_CLASS]-(aicrp)\nOPTIONAL MATCH (aitmc1r)<-[is_mandatory_data3:HAS_ITEM_CLASS]-(aicrpp)\n//Terms\nOPTIONAL MATCH\n  (aitm1)-[R18:HAS_CT_TERM]->\n  (ct_context:CTTermContext)-[R19:HAS_SELECTED_TERM]->\n  (ct2cd:CTTermRoot)-[R20:HAS_NAME_ROOT]->\n  (ct2cdr:CTTermNameRoot)-[R21:LATEST]->\n  (ct2_sponsor),\n  (ct2cd)-[R22:HAS_ATTRIBUTES_ROOT]->\n  (ct2att:CTTermAttributesRoot)-[R23:LATEST]->\n  (ct2_cdisc),\n  (ct2cd)<-[R24:HAS_TERM_ROOT]-\n  (term:CTCodelistTerm)<-[R25:HAS_TERM]-\n  (clr:CTCodelistRoot)<-[R26:HAS_SELECTED_CODELIST]-\n  (ct_context),\n  (ct2cd)<-[R27:CONTAINS_TERM]-(lib:Library)\nOPTIONAL MATCH\n  (ct_context)<-[R28:HAS_CT_DIMENSION]-(pos_units_in_dim:UnitDefinitionValue)\nOPTIONAL MATCH\n  (aitm1)-[R29:HAS_UNIT_DEFINITION]->\n  (unitdefr:UnitDefinitionRoot)-[R30:LATEST]->\n  (unitdef:UnitDefinitionValue)-[:HAS_CT_UNIT]->\n  (ct_context_unit:CTTermContext)-[:HAS_SELECTED_TERM]->\n  (unit_code:CTTermRoot)-[:HAS_NAME_ROOT]->\n  (:CTTermNameRoot)-[:LATEST]->\n  (unit_sponsor),\n  (unit_code)-[:HAS_ATTRIBUTES_ROOT]->\n  (:CTTermAttributesRoot)-[:LATEST]->\n  (unit_cdisc),\n  (unitdef)-[R31:HAS_CT_DIMENSION]->\n  (ct_context2)-[R32:HAS_SELECTED_CODELIST]->\n  (cl_unit_root:CTCodelistRoot),\n  (cl_unit_root)-[R33:HAS_ATTRIBUTES_ROOT]-\n  (cl_unit_att:CTCodelistAttributesRoot)-[R34:LATEST]->\n  (cl_unit_cdisc:CTCodelistAttributesValue)\nOPTIONAL MATCH\n  (cl_unit_root)-[R35:HAS_NAME_ROOT]->\n  (clunit_attr:CTCodelistNameRoot)-[R36:LATEST]-\n  (cl_unit_sponsor)\nOPTIONAL MATCH\n  (clr:CTCodelistRoot)-[R37:HAS_ATTRIBUTES_ROOT]->\n  (clatt:CTCodelistAttributesRoot)-[R38:LATEST]->\n  (cl_cdisc:CTCodelistAttributesValue)\nOPTIONAL MATCH\n  (clr)-[R39:HAS_NAME_ROOT]->\n  (clattr:CTCodelistNameRoot)-[R40:LATEST]-\n  (cl_sponsor)\nOPTIONAL MATCH\n  (aitmc1)-[R41:HAS_ROLE]->\n  (ct_context_role)-[R42:HAS_SELECTED_TERM]->\n  (role_r:CTTermRoot)-[R43:HAS_NAME_ROOT]->\n  (ctnr_role)-[R44:LATEST]->\n  (role_val)\nOPTIONAL MATCH\n  (aitmc1)-[R45:HAS_DATA_TYPE]->\n  (ct_context_dtype)-[R46:HAS_SELECTED_TERM]->\n  (dtype_r),\n  (dtype_r)-[R47:HAS_NAME_ROOT]->(ctnr_dtype)-[R48:LATEST]->(dtype_val)\nOPTIONAL MATCH\n  (ai:ActivityInstanceValue)-[R49:CONTAINS_ACTIVITY_ITEM]->\n  (aitm1_dom:ActivityItem)<-[R50:HAS_ACTIVITY_ITEM]-\n  (n1:ActivityItemClassRoot)-[R51:MAPS_VARIABLE_CLASS]->\n  (dom_class:VariableClass {uid: 'DOMAIN'}),\n  (aitm1_dom)-[R52:HAS_CT_TERM]->\n  (:CTTermContext)-[R53:HAS_SELECTED_TERM]->\n  (:CTTermRoot)<-[R54:HAS_TERM_ROOT]-\n  (ct2_dom:CTCodelistTerm),\n  (dom_class)-[R55:HAS_INSTANCE]->\n  (n3:VariableClassInstance)<-\n    [R56:IMPLEMENTS_VARIABLE {version_number: $neodash_sdtmversion}]-\n  (n4:DatasetVariableInstance)<-\n    [R57:HAS_DATASET_VARIABLE {version_number: $neodash_sdtmversion}]-\n  (n5:DatasetInstance)<-[R58:HAS_INSTANCE]-\n  (ds:Dataset)\nWHERE ds.uid = ct2_dom.submission_value\nOPTIONAL MATCH\n  (aitmc1r)-[R59:MAPS_VARIABLE_CLASS]->\n  (varcl:VariableClass)-[R60:HAS_INSTANCE]->\n  (varcli:VariableClassInstance),\n  (varcli)<-[R61:IMPLEMENTS_VARIABLE {version_number: $neodash_sdtmversion}]-\n  (var:DatasetVariableInstance)<-\n    [R62:HAS_DATASET_VARIABLE {version_number: $neodash_sdtmversion}]-\n  (dsi:DatasetInstance)<-[R63:HAS_INSTANCE]-\n  (ds:Dataset)<-[R64:HAS_DATASET]-\n  (dmcat:DataModelCatalogue)-[R65:CONTAINS_VERSION]->\n  (dmig:DataModelVersion),\n  (dsi)<-[R66:HAS_DATASET]-\n  (dmigv:DataModelIGValue)<-[R67:CONTAINS_DATA_MODEL_IG]-\n  (dmig),\n  (dmcat)-[R68:HAS_DATASET_VARIABLE]->\n  (dsv:DatasetVariable)-[R69:HAS_INSTANCE]->\n  (var)\nWHERE dmigv.version_number = $neodash_sdtmversion\nOPTIONAL MATCH\n  (ds)-[R70:HAS_DATASET_VARIABLE]->\n  (sdv:SponsorModelDatasetVariableInstance)<-[R71:HAS_INSTANCE]-\n  (dsv:DatasetVariable)-[R72:HAS_INSTANCE]->\n  (dci)<-[R73:HAS_DATASET]-\n  (dmcat:DataModelCatalogue)-[R74:CONTAINS_VERSION]->\n  (dmig:DataModelVersion)\nWITH DISTINCT\n  asgrp,\n  aic,\n  ai,\n  aitmc1,\n  dmigv,\n  ds,\n  varcl,\n  dsv,\n  var,\n  role_val,\n  dtype_val,\n  clr,\n  cl_cdisc,\n  cl_sponsor,\n  ct2cd,\n  ct2_cdisc,\n  ct2_sponsor,\n  unit_code.uid AS unit_code,\n  unit_cdisc,\n  unit_sponsor,\n  ct_context2,\n  sdv,\n  coalesce(\n    is_mandatory_data1.mandatory,\n    is_mandatory_data2.mandatory,\n    is_mandatory_data3.mandatory\n  ) AS mandatory_variable\nWHERE NOT aitmc1.name IN ['unit_dimension', 'domain']\nWITH\n  asgrp,\n  aic,\n  ai,\n  aitmc1,\n  dmigv,\n  ds,\n  varcl,\n  dsv,\n  var,\n  role_val,\n  dtype_val,\n  clr,\n  cl_cdisc,\n  cl_sponsor,\n  ct2cd,\n  ct2_cdisc,\n  ct2_sponsor,\n  unit_code,\n  unit_cdisc,\n  unit_sponsor,\n  sdv,\n  CASE\n    WHEN\n      ct2cd IS NOT NULL\n      THEN\n        CASE\n          WHEN\n            var.role = 'Topic'\n            THEN\n              apoc.map.fromPairs([\n                ['code', ct2cd.uid],\n                [\n                  'value',\n                  coalesce(\n                    ct2_cdisc.submission_value,\n                    toUpper(ct2_sponsor.name)\n                  )\n                ],\n                ['shortName', ct2_cdisc.preferred_term]\n              ])\n          WHEN\n            varcl.uid = \"--TEST\"\n            THEN\n              apoc.map.fromPairs([\n                ['code', ct2cd.uid],\n                [\n                  'value',\n                  coalesce(ct2_cdisc.preferred_term, toUpper(ct2_sponsor.name))\n                ]\n              ])\n          ELSE\n            apoc.map.fromPairs([\n              ['code', ct2cd.uid],\n              [\n                'value',\n                coalesce(ct2_cdisc.submission_value, toUpper(ct2_sponsor.name))\n              ]\n            ])\n        END\n    WHEN\n      unit_code IS NOT NULL\n      THEN\n        apoc.map.fromPairs([\n          ['code', unit_code],\n          [\n            'value',\n            coalesce(unit_cdisc.submission_value, toUpper(unit_sponsor.name))\n          ]\n        ])\n    ELSE\n      CASE\n        WHEN\n          varcl.uid = \"--CAT\"\n          THEN apoc.map.fromPairs([['value', asgrp.name]])\n      END\n  END AS val_list,\n  mandatory_variable\nWITH\n  aic,\n  ai,\n  aitmc1,\n  dmigv,\n  ds,\n  varcl,\n  dsv,\n  var,\n  role_val,\n  dtype_val,\n  clr,\n  cl_cdisc,\n  cl_sponsor,\n  sdv,\n  collect(DISTINCT val_list) AS terms,\n  {\n    DATETIME: 'datetime',\n    FLOAT: 'float',\n    INTEGER: 'integer',\n    CTTERM: 'text',\n    TEXT: 'text'\n  } AS dtype_map,\n  mandatory_variable\nWITH\n  aic,\n  ai,\n  aitmc1,\n  dmigv,\n  ds,\n  varcl,\n  dsv,\n  sdv,\n  var,\n  role_val,\n  [\n    x IN ['Identifier', 'Qualifier', 'Timing', 'Topic']\n    WHERE var.role CONTAINS x\n  ][0] AS role,\n  dtype_val,\n  dtype_map[toUpper(dtype_val.name)] AS dtype,\n  clr,\n  cl_cdisc,\n  cl_sponsor,\n  terms,\n  CASE\n    WHEN var.role = 'Topic' THEN apoc.text.join([ds.uid, dsv.uid], '.')\n  END AS source,\n  CASE\n    WHEN\n      clr IS NOT NULL\n      THEN\n        apoc.map.fromPairs([\n          ['conceptId', clr.uid],\n          [\n            'href',\n            'https://ncithesaurus.nci.nih.gov/ncitbrowser/ConceptReport.jsp?dictionary=NCI_Thesaurus&ns=ncit&code=' +\n            clr.uid\n          ],\n          [\n            'submissionValue',\n            coalesce(cl_cdisc.submission_value, toUpper(cl_sponsor.name))\n          ]\n        ])\n  END AS cdlist,\n  CASE\n    WHEN\n      size(terms) = 1\n      THEN\n        CASE\n          WHEN\n            any(term IN terms WHERE 'code' IN keys(term))\n            THEN\n              [\n                term IN terms\n                | apoc.map.fromPairs([\n                  ['conceptId', term['code']],\n                  ['value', term['value']]\n                ])\n              ]\n          ELSE [term IN terms | term['value']]\n        END\n  END AS assignedTerms,\n  CASE\n    WHEN size(terms) > 1 THEN [v IN terms | v['value']]\n  END AS valueList,\n  CASE\n    WHEN aitmc1.is_data_collected = 'Yes' THEN 'Collected'\n    ELSE 'Not Collected'\n  END AS collected,\n  mandatory_variable\nWITH\n  aic,\n  ai,\n  aitmc1,\n  dmigv,\n  ds,\n  varcl,\n  dsv,\n  var,\n  role,\n  dtype_val,\n  dtype,\n  assignedTerms,\n  valueList,\n  cdlist,\n  source,\n  terms,\n  sdv,\n  CASE\n    WHEN\n      assignedTerms IS NOT NULL\n      THEN\n        CASE\n          WHEN\n            var.role = 'Topic' AND dsv.uid = cdlist['submissionValue']\n            THEN\n              apoc.map.fromPairs([\n                ['name', dsv.uid],\n                ['isNonStandard', false],\n                ['role', role],\n                ['dataType', dtype],\n                ['codelist', cdlist],\n                ['assignedTerm', assignedTerms[0]],\n                ['mandatoryVariable', mandatory_variable],\n                ['mandatoryValue', false]\n              ])\n          ELSE\n            CASE\n              WHEN\n                varcl.uid = '--TEST' AND dsv.uid = cdlist['submissionValue']\n                THEN\n                  apoc.map.fromPairs([\n                    ['name', dsv.uid],\n                    ['isNonStandard', false],\n                    ['role', role],\n                    ['dataType', dtype],\n                    ['codelist', cdlist],\n                    ['assignedTerm', assignedTerms[0]],\n                    ['mandatoryVariable', mandatory_variable],\n                    ['mandatoryValue', false]\n                  ])\n              ELSE\n                CASE\n                  WHEN\n                    NOT varcl.uid CONTAINS 'TEST'\n                    THEN\n                      apoc.map.fromPairs([\n                        ['name', dsv.uid],\n                        ['dataElementConceptId', aitmc1.nci_concept_id],\n                        ['isNonStandard', false],\n                        ['role', role],\n                        ['dataType', dtype],\n                        ['codelist', cdlist],\n                        ['assignedTerm', assignedTerms[0]],\n                        ['mandatoryVariable', mandatory_variable],\n                        ['mandatoryValue', false]\n                      ])\n                END\n            END\n        END\n    ELSE\n      CASE\n        WHEN\n          valueList IS NOT NULL\n          THEN\n            apoc.map.fromPairs([\n              ['name', dsv.uid],\n              ['dataElementConceptId', aitmc1.nci_concept_id],\n              ['isNonStandard', false],\n              ['codelist', cdlist],\n              ['valueList', valueList],\n              ['role', role],\n              ['originType', collected],\n              ['mandatoryVariable', mandatory_variable],\n              ['mandatoryValue', false]\n            ])\n        ELSE\n          apoc.map.fromPairs([\n            ['name', dsv.uid],\n            ['dataElementConceptId', aitmc1.nci_concept_id],\n            ['isNonStandard', false],\n            ['role', role],\n            ['dataType', dtype],\n            ['codelist', cdlist],\n            ['valueList', valueList],\n            ['originType', collected],\n            ['mandatoryVariable', mandatory_variable],\n            ['mandatoryValue', false]\n          ])\n      END\n  END AS dataElement,\n  ai.adam_param_code AS datasetSpecializationId,\n  CASE\n    WHEN var.role = 'Topic' THEN [v IN terms | v['shortName']][0]\n  END AS shortName\nWITH\n  aic,\n  ai,\n  apoc.coll.toSet(collect(shortName))[0] AS shortName,\n  dmigv,\n  ds,\n  apoc.coll.toSet(collect(source))[0] AS source,\n  apoc.coll.toSet(collect(datasetSpecializationId))[0] AS datasetSpecializationId,\n  collect(DISTINCT dataElement) AS vars\nWITH\n  aic,\n  ai,\n  shortName,\n  dmigv,\n  ds,\n  source,\n  datasetSpecializationId,\n  vars,\n  apoc.map.fromPairs([\n    ['datasetSpecializationId', datasetSpecializationId],\n    ['domain', ds.uid],\n    ['shortName', shortName],\n    ['source', source],\n    ['sdtmigStartVersion', dmigv.version_number],\n    ['sdtmigEndVersion', \"\"],\n    ['variables', vars]\n  ]) AS activity\nRETURN activity",
          "width": 15,
          "height": 7,
          "x": 9,
          "y": 10,
          "type": "json",
          "selection": {},
          "settings": {
            "format": "yml",
            "refreshButtonEnabled": true,
            "fullscreenEnabled": true
          },
          "schema": []
        },
        {
          "id": "e1e782e0-85ca-4787-914c-77c375562fd6",
          "title": "Select CDISC SDTM Version",
          "query": "match (n1:DataModelIGRoot{uid:'SDTMIG'})-[:HAS_VERSION]->(n:DataModelIGValue) return 'Select' as Click, n.name as IG, n.effective_date as `Effective Date`, n.version_number as `Version Number` order by `Effective Date` desc\n\n\n",
          "width": 9,
          "height": 4,
          "x": 0,
          "y": 10,
          "type": "table",
          "selection": {},
          "settings": {
            "actionsRules": [
              {
                "condition": "Click",
                "field": "Click",
                "value": "Version Number",
                "customization": "set variable",
                "customizationValue": "sdtm_version"
              }
            ],
            "compact": true,
            "wrapContent": true
          }
        },
        {
          "id": "4b986a7e-91bd-447e-9a23-41036b6795b6",
          "title": "Activity as COSMOS BC Concept - $neodash_cosmos_activity",
          "query": "//Activity mapped to SDTM\nMATCH\n  (act:ActivityValue)-[R1:HAS_GROUPING]->\n  (g:ActivityGrouping)-[R2:IN_SUBGROUP]->\n  (sg:ActivityValidGroup)<-[R3:HAS_GROUP]-\n  (asgrp:ActivitySubGroupValue),\n  (sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue)\nWHERE act.name = $neodash_cosmos_activity\nMATCH\n  (g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-\n  (ai:ActivityInstanceValue)-[R6:CONTAINS_ACTIVITY_ITEM]->\n  (aitm1:ActivityItem),\n  (ai)<-[:LATEST]-()\nMATCH\n  (ai)-[R7:ACTIVITY_INSTANCE_CLASS]->\n  (aicr:ActivityInstanceClassRoot)-[R8:LATEST]->\n  (aic:ActivityInstanceClassValue)\nOPTIONAL MATCH\n  (aitm1)<-[R9:HAS_ACTIVITY_ITEM]-\n  (aitmc1r:ActivityItemClassRoot)-[R10:LATEST]->\n  (aitmc1:ActivityItemClassValue)\nOPTIONAL MATCH\n  (aicr)-[R11:PARENT_CLASS]->\n  (aicrp:ActivityInstanceClassRoot)-[R12:LATEST]->\n  (aicp:ActivityInstanceClassValue)\nOPTIONAL MATCH\n  (aicrp)-[R13:PARENT_CLASS]->\n  (aicrpp:ActivityInstanceClassRoot)-[R14:LATEST]->\n  (aicpp:ActivityInstanceClassValue)\nOPTIONAL MATCH (aitmc1r)<-[R15:HAS_ITEM_CLASS]-(aicr)\nOPTIONAL MATCH (aitmc1r)<-[R16:HAS_ITEM_CLASS]-(aicrp)\nOPTIONAL MATCH (aitmc1r)<-[R17:HAS_ITEM_CLASS]-(aicrpp)\n//Terms\nOPTIONAL MATCH\n  (aitm1)-[R18:HAS_CT_TERM]->\n  (ct_context:CTTermContext)-[R19:HAS_SELECTED_TERM]->\n  (ct2cd:CTTermRoot)-[R20:HAS_NAME_ROOT]->\n  (ct2cdr:CTTermNameRoot)-[R21:LATEST]->\n  (ct2_sponsor),\n  (ct2cd)-[R22:HAS_ATTRIBUTES_ROOT]->\n  (ct2att:CTTermAttributesRoot)-[R23:LATEST]->\n  (ct2_cdisc),\n  (ct2cd)<-[R24:HAS_TERM_ROOT]-\n  (term:CTCodelistTerm)<-[R25:HAS_TERM]-\n  (clr:CTCodelistRoot)<-[R26:HAS_SELECTED_CODELIST]-\n  (ct_context),\n  (ct2cd)<-[R27:CONTAINS_TERM]-(lib:Library)\nOPTIONAL MATCH\n  (ct_context)<-[R28:HAS_CT_DIMENSION]-(pos_units_in_dim:UnitDefinitionValue)\nOPTIONAL MATCH\n  (aitm1)-[R29:HAS_UNIT_DEFINITION]->\n  (unitdefr:UnitDefinitionRoot)-[R30:LATEST]->\n  (unitdef:UnitDefinitionValue)-[R31:HAS_CT_DIMENSION]->\n  (ct_context2)-[R32:HAS_SELECTED_CODELIST]->\n  (cl_unit_root:CTCodelistRoot),\n  (cl_unit_root)-[R33:HAS_ATTRIBUTES_ROOT]-\n  (cl_unit_att:CTCodelistAttributesRoot)-[R34:LATEST]->\n  (cl_unit_cdisc:CTCodelistAttributesValue)\nOPTIONAL MATCH\n  (cl_unit_root)-[R35:HAS_NAME_ROOT]->\n  (clunit_attr:CTCodelistNameRoot)-[R36:LATEST]-\n  (cl_unit_sponsor)\nOPTIONAL MATCH\n  (clr:CTCodelistRoot)-[R37:HAS_ATTRIBUTES_ROOT]->\n  (clatt:CTCodelistAttributesRoot)-[R38:LATEST]->\n  (cl_cdisc:CTCodelistAttributesValue)\nOPTIONAL MATCH\n  (clr)-[R39:HAS_NAME_ROOT]->\n  (clattr:CTCodelistNameRoot)-[R40:LATEST]-\n  (cl_sponsor)\nOPTIONAL MATCH\n  (aitmc1)-[R41:HAS_ROLE]->\n  (ct_context_role)-[R42:HAS_SELECTED_TERM]->\n  (role_r:CTTermRoot)-[R43:HAS_NAME_ROOT]->\n  (ctnr_role)-[R44:LATEST]->\n  (role_val)\nMATCH\n  (aitmc1)-[R45:HAS_DATA_TYPE]->\n  (ct_context_dtype)-[R46:HAS_SELECTED_TERM]->\n  (dtype_r),\n  (dtype_r)-[R47:HAS_NAME_ROOT]->(ctnr_dtype)-[R48:LATEST]->(dtype_val)\nOPTIONAL MATCH\n  (ai:ActivityInstanceValue)-[R49:CONTAINS_ACTIVITY_ITEM]->\n  (aitm1_dom:ActivityItem)<-[R50:HAS_ACTIVITY_ITEM]-\n  (n1:ActivityItemClassRoot)-[R51:MAPS_VARIABLE_CLASS]->\n  (dom_class:VariableClass {uid: 'DOMAIN'}),\n  (aitm1_dom)-[R52:HAS_CT_TERM]->\n  (:CTTermContext)-[R53:HAS_SELECTED_TERM]->\n  (:CTTermRoot)<-[R54:HAS_TERM_ROOT]-\n  (ct2_dom:CTCodelistTerm),\n  (dom_class)-[R55:HAS_INSTANCE]->\n  (n3:VariableClassInstance)<-\n    [R56:IMPLEMENTS_VARIABLE {version_number: $neodash_sdtmversion}]-\n  (n4:DatasetVariableInstance)<-\n    [R57:HAS_DATASET_VARIABLE {version_number: $neodash_sdtmversion}]-\n  (n5:DatasetInstance)<-[R58:HAS_INSTANCE]-\n  (ds:Dataset)\nWHERE ds.uid = ct2_dom.submission_value\nWITH DISTINCT\n  act.name AS ActivityName,\n  aic AS aic,\n  asgrp,\n  aitmc1,\n  ai,\n  ct2cd,\n  unitdef AS unit_ct,\n  role_val AS role,\n  dtype_val AS dtype,\n  CASE\n    WHEN unitdefr IS NOT NULL THEN unitdef\n    ELSE\n      CASE\n        WHEN\n          ct2cd IS NOT NULL\n          THEN apoc.map.merge(properties(ct2_cdisc), properties(ct2_sponsor))\n      END\n  END AS ct2,\n  term.submission_value AS term_submission_value,\n  CASE\n    WHEN\n      clr IS NOT NULL\n      THEN apoc.map.merge(properties(cl_cdisc), properties(cl_sponsor))\n    ELSE\n      CASE\n        WHEN\n          cl_unit_root IS NOT NULL\n          THEN\n            apoc.map.merge(\n              properties(cl_unit_cdisc),\n              properties(cl_unit_sponsor)\n            )\n      END\n  END AS cl\nWITH DISTINCT\n  ActivityName,\n  aic,\n  asgrp,\n  aitmc1,\n  ai,\n  unit_ct,\n  ct2,\n  ct2cd,\n  role,\n  dtype,\n  cl,\n  term_submission_value,\n  CASE\n    WHEN role.name = 'Topic' THEN ct2cd.uid\n  END AS conceptId,\n  CASE\n    WHEN aitmc1.name = 'domain' THEN term_submission_value\n  END AS domain\nWITH DISTINCT\n  ActivityName,\n  aic,\n  asgrp,\n  aitmc1,\n  ai,\n  unit_ct,\n  ct2,\n  role,\n  dtype,\n  conceptId,\n  domain,\n  cl,\n  term_submission_value,\n  CASE\n    WHEN (apoc.any.property(aic, 'name') = 'NumericFinding') THEN 'Quantitative'\n    ELSE\n      CASE\n        WHEN\n          (apoc.any.property(aic, 'name') = 'CategoricFinding')\n          THEN 'Ordinal'\n        ELSE 'Nominal'\n      END\n  END AS aiclass\nWITH\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp.name AS asgrp,\n  domain,\n  aitmc1,\n  unit_ct,\n  ct2,\n  term_submission_value,\n  role,\n  dtype,\n  cl,\n  collect(\n    DISTINCT\n    (coalesce(term_submission_value, ct2.preferred_term, unit_ct.name))) AS val_lst\nWITH\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  aitmc1,\n  dtype.name AS dtype,\n  apoc.coll.flatten(collect(val_lst)) AS val_list,\n  toInteger(aitmc1.order) AS var_order,\n  cl\nWITH\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  dtype,\n  aitmc1,\n  val_list,\n  var_order,\n  cl\nCALL\n  apoc.load.json(\n    'https://api-evsrest.nci.nih.gov/api/v1/concept/ncit/C82590?include=minimal%2CinverseAssociations'\n  )\n  YIELD value\nWITH DISTINCT\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  dtype,\n  aitmc1,\n  val_list,\n  var_order,\n  cl,\n  value['inverseAssociations'] AS class_concepts\nWITH\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  dtype,\n  cl,\n  aitmc1,\n  val_list,\n  var_order,\n  class_concepts,\n  {\n    PERCENTAGE: \"Unit of Fraction\",\n    `RESPIRATORY RATE`: \"Unit Respiratory Rate\",\n    CONCENTRATION: \"Unit of Concentration\",\n    `U_IU Concentration`: \"Unit of Concentration\",\n    TEMPERATURE: \"Unit of Temperature\",\n    WEIGHT: \"Unit of Weight\",\n    PRESSURE: \"Unit of Pressure\",\n    FLOW: \"Unit of Flow Rate\",\n    `VOLUMETRIC FLOW RATE`: \"Unit of Volumetric Flow Rate\",\n    `CELL COUNT`: \"Unit of Cell Count\",\n    LENGTH: \"Unit of Length\",\n    `NO UNIT`: \"No Unit\",\n    TIME: \"Unit of Time\",\n    `BEAT RATE`: \"Unit of Beat Rate\"\n  } AS unit_dimension_dict,\n  {\n    DATETIME: 'datetime',\n    FLOAT: 'decimal',\n    INTEGER: 'integer',\n    CTTERM: 'string',\n    TEXT: 'string'\n  } AS dtype_map\nWITH\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  aitmc1,\n  val_list,\n  cl,\n  var_order,\n  class_concepts,\n  unit_dimension_dict,\n  dtype_map,\n  CASE\n    WHEN\n      aitmc1.name = 'standard_unit'\n      THEN apoc.text.join(['Unit of', cl.name], ' ')\n    ELSE\n      CASE\n        WHEN\n          aitmc1.name = 'unit_dimension'\n          THEN unit_dimension_dict[apoc.text.join(val_list, '')]\n        ELSE\n          CASE\n            WHEN aitmc1.name = 'test_code' THEN \"Test Code\"\n            ELSE\n              CASE\n                WHEN aitmc1.name CONTAINS 'category' THEN 'Category'\n                ELSE\n                  CASE\n                    WHEN aitmc1.name = 'domain' THEN 'Submission Domain'\n                    ELSE\n                      CASE\n                        WHEN aitmc1.name = 'specimen' THEN 'Biospecimen Type'\n                        ELSE\n                          apoc.text.join(\n                            [\n                              c IN class_concepts\n                              WHERE\n                                toUpper(c.relatedName) = toUpper(aitmc1.name)\n                              | c.relatedName\n                            ],\n                            ''\n                          )\n                      END\n                  END\n              END\n          END\n      END\n  END AS aitmc1_term,\n  dtype_map[toUpper(dtype)] AS dtype\nWITH\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  dtype,\n  aitmc1,\n  val_list,\n  var_order,\n  apoc.text.replace(aitmc1_term, \" \", \"%20\") AS aitmc1_term\nWITH\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  dtype,\n  aitmc1,\n  val_list,\n  var_order,\n  aitmc1_term\nCALL\n  apoc.load.json(\n    \"https://api-evsrest.nci.nih.gov/api/v1/concept/ncit/search?fromRecord=0&include=minimal&pageSize=10&term=\" +\n    aitmc1_term +\n    \"&type=match&value=term\"\n  )\n  YIELD value\nWITH\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  dtype,\n  aitmc1,\n  val_list,\n  var_order,\n  aitmc1.nci_concept_id AS item_concept_id,\n  aitmc1_term\nWITH\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  dtype,\n  aitmc1,\n  val_list,\n  var_order,\n  item_concept_id,\n  aitmc1_term\nCALL\n  apoc.load.json(\n    \"https://api-evsrest.nci.nih.gov/api/v1/concept/ncit/search?fromRecord=0&include=minimal&pageSize=10&term=\" +\n    aitmc1_term +\n    \"&type=startsWith&value=term\"\n  )\n  YIELD value\nWITH\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  dtype,\n  aitmc1,\n  val_list,\n  var_order,\n  item_concept_id,\n  apoc.text.join([v IN value.concepts | v.code], ',') AS alt_item_concept_id\nWITH\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  dtype,\n  aitmc1,\n  val_list,\n  var_order,\n  CASE\n    WHEN\n      item_concept_id IS NULL AND NOT alt_item_concept_id IS NULL\n      THEN alt_item_concept_id\n    ELSE item_concept_id\n  END AS item_concept_id\nWITH\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  dtype,\n  aitmc1,\n  val_list,\n  var_order,\n  item_concept_id,\n  CASE\n    WHEN item_concept_id IS NULL THEN null\n    ELSE\n      'https://ncithesaurus.nci.nih.gov/ncitbrowser/ConceptReport.jsp?dictionary=NCI_Thesaurus&ns=ncit&code=' +\n      item_concept_id\n  END AS href\nWITH DISTINCT\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  aitmc1.name AS aitmc1Name,\n  apoc.text.join(collect(DISTINCT dtype), ',') AS dtypes,\n  apoc.coll.flatten(collect(val_list)) AS val_list,\n  var_order,\n  href,\n  item_concept_id\nWITH DISTINCT\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  dtypes,\n  aitmc1Name,\n  val_list,\n  var_order,\n  href,\n  item_concept_id\nWITH DISTINCT\n  collect(conceptId) AS conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  collect(domain) AS domain,\n  collect(\n    apoc.map.fromPairs([\n      ['dtypes', dtypes],\n      ['aitmc1Name', aitmc1Name],\n      ['val_list', val_list],\n      ['var_order', var_order],\n      ['href', href],\n      ['item_concept_id', item_concept_id]\n    ])) AS var_map\nWITH\n  conceptId,\n  ActivityName,\n  apoc.coll.toSet(collect(aiclass)) AS aiclass,\n  apoc.coll.toSet(collect(asgrp)) AS asgrp,\n  apoc.coll.toSet(domain) AS domain,\n  apoc.coll.toSet(apoc.coll.flatten(collect(var_map))) AS var_maps\nWITH conceptId, ActivityName, aiclass, asgrp, domain, var_maps\nUNWIND var_maps AS var_map\nWITH\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  var_map['dtypes'] AS dtypes,\n  var_map['aitmc1Name'] AS aitmc1Name,\n  var_map['val_list'] AS val_list,\n  var_map['var_order'] AS var_order,\n  var_map['href'] AS href,\n  var_map['item_concept_id'] AS item_concept_id\nWITH\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  dtypes,\n  aitmc1Name,\n  apoc.coll.toSet(collect(href)) AS href,\n  apoc.coll.toSet(collect(item_concept_id)) AS item_concept_id,\n  apoc.coll.toSet(apoc.coll.flatten(collect(val_list))) AS val_list,\n  var_order\nWITH\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  dtypes,\n  aitmc1Name,\n  href,\n  item_concept_id,\n  val_list,\n  var_order\nWHERE NOT aitmc1Name IN ['domain', 'test_code', 'test_name','unit_dimension']\nWITH\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  dtypes,\n  aitmc1Name,\n  CASE\n    WHEN size(href) = 0 THEN null\n    ELSE apoc.text.join(href, '')\n  END AS href,\n  CASE\n    WHEN size(item_concept_id) = 0 THEN null\n    ELSE apoc.text.join(item_concept_id, '')\n  END AS item_concept_id,\n  val_list,\n  var_order\nWITH\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  collect(\n    apoc.map.fromPairs([\n      ['conceptId', item_concept_id],\n      ['href', href],\n      ['shortName', aitmc1Name],\n      ['dataType', dtypes],\n      ['exampleSet', val_list]\n    ])) AS vars\nWITH conceptId, ActivityName, aiclass, asgrp, domain, vars\nWHERE size(conceptId) < 2\nWITH\n  apoc.text.join(conceptId, ',') AS conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  apoc.text.join(domain, ';') AS domain,\n  vars\nWITH\n  CASE\n    WHEN conceptId = \"\" THEN 'C17998'\n    ELSE conceptId\n  END AS conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  vars\nCALL\n  apoc.load.json(\n    \"https://api-evsrest.nci.nih.gov/api/v1/concept/ncit/\" +\n    conceptId +\n    \"?limit=100&include=minimal\"\n  )\n  YIELD value\nWITH\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  vars,\n  value.name AS conceptName\nCALL\n  apoc.load.json(\n    \"https://api-evsrest.nci.nih.gov/api/v1/concept/ncit/\" +\n    conceptId +\n    \"/parents\"\n  )\n  YIELD value\nWITH\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  vars,\n  conceptName,\n  collect(value.code)[0] AS parentConceptId\nCALL\n  apoc.load.json(\n    \"https://api-evsrest.nci.nih.gov/api/v1/concept/ncit/\" +\n    conceptId +\n    \"?include=definitions\"\n  )\n  YIELD value\nWITH\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  vars,\n  conceptName,\n  parentConceptId,\n  value,\n  [def IN value.definitions WHERE def.source = \"NCI\"] AS def\nWITH\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  vars,\n  conceptName,\n  parentConceptId,\n  def[0][\"definition\"] AS conceptDefinition\nWITH\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  vars,\n  conceptName,\n  parentConceptId,\n  conceptDefinition\nCALL\n  apoc.load.json(\n    \"https://api-evsrest.nci.nih.gov/api/v1/concept/ncit/\" +\n    conceptId +\n    \"?include=synonyms\"\n  )\n  YIELD value\nWITH\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  vars,\n  conceptName,\n  parentConceptId,\n  conceptDefinition,\n  value,\n  apoc.coll.toSet(\n    [\n      sym IN value.synonyms\n      WHERE sym.source = \"CDISC\" AND sym.termType = \"PT\"\n      | sym.name\n    ]) AS conceptSynonyms\nWITH\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  apoc.coll.sortMaps(vars, '^var_order') AS vars,\n  conceptName,\n  parentConceptId,\n  conceptDefinition,\n  conceptSynonyms\nWITH\n  conceptId,\n  ActivityName,\n  aiclass,\n  asgrp,\n  domain,\n  vars,\n  conceptName,\n  parentConceptId,\n  conceptDefinition,\n  conceptSynonyms,\n  apoc.map.fromPairs([\n    ['packageDate', toString(date())],\n    ['packageType', 'bc'],\n    ['conceptId', conceptId],\n    [\n      'href',\n      'https://ncithesaurus.nci.nih.gov/ncitbrowser/ConceptReport.jsp?dictionary=NCI_Thesaurus&ns=ncit&code=' +\n      conceptId\n    ],\n    ['parentConceptId', parentConceptId],\n    ['category', asgrp],\n    ['shortName', conceptName],\n    ['activityName', ActivityName],\n    ['synonym', conceptSynonyms],\n    ['resultScale', aiclass],\n    ['definition', conceptDefinition],\n    ['domain', domain],\n    ['dataElementConcepts', vars]\n  ]) AS activity\nRETURN DISTINCT activity",
          "width": 24,
          "height": 6,
          "x": 0,
          "y": 4,
          "type": "json",
          "selection": {},
          "settings": {
            "format": "yml",
            "fullscreenEnabled": true,
            "refreshButtonEnabled": true,
            "downloadImageEnabled": false
          },
          "schema": []
        },
        {
          "id": "1b17908f-5b7f-41e5-a4dc-735c9cf356b2",
          "title": "Select Instance",
          "query": "MATCH(act:ActivityValue)-[R1:HAS_GROUPING]->(g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-(ai:ActivityInstanceValue)<-[:LATEST]-() \nwhere act.name = $neodash_cosmos_activity \nreturn ai.name as Instance, ai.adam_param_code as `ADaM Param Code`\n\n\n",
          "width": 9,
          "height": 3,
          "x": 0,
          "y": 14,
          "type": "table",
          "selection": {},
          "settings": {
            "actionsRules": [
              {
                "condition": "Click",
                "field": "ADaM Param Code",
                "value": "ADaM Param Code",
                "customization": "set variable",
                "customizationValue": "cosmos_instance"
              }
            ],
            "compact": true,
            "wrapContent": true,
            "columnWidths": "[1,0.3]"
          }
        }
      ]
    },
    {
      "title": "Activities Used in Studies",
      "reports": [
        {
          "id": "828b7787-ecf9-46d1-b5f8-3f376455f963",
          "title": "Select One or More Activities",
          "query": "MATCH (n:`ActivityValue`)\nWHERE toLower(toString(n.`name`)) CONTAINS toLower($input) \nRETURN DISTINCT n.`name` as value,  n.`name` as display ORDER BY size(toString(value)) ASC ",
          "width": 8,
          "height": 2,
          "x": 0,
          "y": 0,
          "type": "select",
          "selection": {},
          "settings": {
            "type": "Custom Query",
            "multiSelector": true,
            "manualParameterSave": true,
            "manualPropertyNameSpecification": true,
            "entityType": "study_activity",
            "parameterName": "neodash_study_activity",
            "suggestionLimit": 1000,
            "clearParameterOnFieldClear": false,
            "multiline": false,
            "multiSelectLimit": 50
          },
          "schema": []
        },
        {
          "id": "4e8ce189-76c4-4e7d-847a-06db57caab1a",
          "title": "Studies Using Selected Activities - Select Study",
          "query": "call apoc.case([$neodash_operator='OR' and size($neodash_study_activity)>0 and $neodash_show_latest='Y',\n\"MATCH(act:ActivityValue)<-[r1:HAS_SELECTED_ACTIVITY]-(sa:StudyActivity)<-[r2:HAS_STUDY_ACTIVITY]-(s:StudyValue) where act.name in $a\nmatch(sr:StudyRoot)-[r0:HAS_VERSION]->(s:StudyValue)\nwith r0, s,collect(distinct act.name) as Activities, CASE WHEN s.subpart_id is not null THEN s.study_id_prefix+'-'+s.study_number+'-'+s.subpart_id ELSE s.study_id_prefix+'-'+s.study_number END as trialid\nwith s, Activities,trialid \nmatch (sr:StudyRoot)-[r0:HAS_VERSION]->(s)\nOPTIONAL MATCH (sr)-[r1:LATEST]->(s)\noptional match(s)<-[r:AFTER]-(sact:StudyAction)\nwith distinct s,Activities,trialid,sr.uid as StudyRoot, collect(r0.status) as statuses ,collect(r0.version) as versions, type(r1) as Latest,sact.date as date order by StudyRoot, sact.date\nwith s,Activities,StudyRoot, s.study_acronym as acronym, trialid, split(apoc.temporal.format(date, 'iso_local_date_time'),'.')[0] as Date, case when 'LOCKED' in statuses then 'LOCKED' else 'DRAFT' END as Status,\napoc.text.join(apoc.coll.toSet(versions),'') as Version,Latest where Latest='LATEST'\nreturn StudyRoot, trialid, acronym, Date, Version, Latest,Status, Activities, id(s) as sid\norder by trialid\",\n$neodash_operator='AND' and size($neodash_study_activity)>0 and $neodash_show_latest='Y',\n\"MATCH(act:ActivityValue)<-[r1:HAS_SELECTED_ACTIVITY]-(sa:StudyActivity)<-[r2:HAS_STUDY_ACTIVITY]-(s:StudyValue)\nwith s, collect(distinct act.name) as all_activities\nwith s, $a as Activities, all_activities where apoc.coll.containsAll(all_activities,$a) \nmatch(sr:StudyRoot)-[r0:HAS_VERSION]->(s:StudyValue)\nwith r0, s, Activities, CASE WHEN s.subpart_id is not null THEN s.study_id_prefix+'-'+s.study_number+'-'+s.subpart_id ELSE s.study_id_prefix+'-'+s.study_number END as trialid\nwith s, Activities,trialid \nmatch (sr:StudyRoot)-[r0:HAS_VERSION]->(s)\nOPTIONAL MATCH (sr)-[r1:LATEST]->(s)\noptional match(s)<-[r:AFTER]-(sact:StudyAction)\nwith distinct s,Activities,trialid,sr.uid as StudyRoot, collect(r0.status) as statuses ,collect(r0.version) as versions, type(r1) as Latest,sact.date as date order by StudyRoot, sact.date\nwith s,Activities,StudyRoot, s.study_acronym as acronym, trialid, split(apoc.temporal.format(date, 'iso_local_date_time'),'.')[0] as Date, case when 'LOCKED' in statuses then 'LOCKED' else 'DRAFT' END as Status,\napoc.text.join(apoc.coll.toSet(versions),'') as Version,Latest where Latest='LATEST'\nreturn StudyRoot, trialid, acronym, Date, Version, Latest,Status, Activities, id(s) as sid\norder by trialid\",\n$neodash_operator='OR' and size($neodash_study_activity)>0 and $neodash_show_latest='N',\n\"MATCH(act:ActivityValue)<-[r1:HAS_SELECTED_ACTIVITY]-(sa:StudyActivity)<-[r2:HAS_STUDY_ACTIVITY]-(s:StudyValue) where act.name in $a\nmatch(sr:StudyRoot)-[r0:HAS_VERSION]->(s:StudyValue)\nwith r0, s,collect(distinct act.name) as Activities, CASE WHEN s.subpart_id is not null THEN s.study_id_prefix+'-'+s.study_number+'-'+s.subpart_id ELSE s.study_id_prefix+'-'+s.study_number END as trialid\nwith s, Activities,trialid \nmatch (sr:StudyRoot)-[r0:HAS_VERSION]->(s)\nOPTIONAL MATCH (sr)-[r1:LATEST]->(s)\noptional match(s)<-[r:AFTER]-(sact:StudyAction)\nwith distinct s,Activities,trialid,sr.uid as StudyRoot, collect(r0.status) as statuses ,collect(r0.version) as versions, type(r1) as Latest,sact.date as date order by StudyRoot, sact.date\nwith s,Activities,StudyRoot, s.study_acronym as acronym, trialid, split(apoc.temporal.format(date, 'iso_local_date_time'),'.')[0] as Date, case when 'LOCKED' in statuses then 'LOCKED' else 'DRAFT' END as Status,\napoc.text.join(apoc.coll.toSet(versions),'') as Version,Latest \nreturn StudyRoot, trialid, acronym, Date, Version, Latest,Status, Activities, id(s) as sid\norder by trialid\",\n$neodash_operator='AND' and size($neodash_study_activity)>0 and $neodash_show_latest='N',\n\"MATCH(act:ActivityValue)<-[r1:HAS_SELECTED_ACTIVITY]-(sa:StudyActivity)<-[r2:HAS_STUDY_ACTIVITY]-(s:StudyValue)\nwith s, collect(distinct act.name) as all_activities\nwith s, $a as Activities, all_activities where apoc.coll.containsAll(all_activities,$a) \nmatch(sr:StudyRoot)-[r0:HAS_VERSION]->(s:StudyValue)\nwith r0, s, Activities, CASE WHEN s.subpart_id is not null THEN s.study_id_prefix+'-'+s.study_number+'-'+s.subpart_id ELSE s.study_id_prefix+'-'+s.study_number END as trialid\nwith s, Activities,trialid \nmatch (sr:StudyRoot)-[r0:HAS_VERSION]->(s)\nOPTIONAL MATCH (sr)-[r1:LATEST]->(s)\noptional match(s)<-[r:AFTER]-(sact:StudyAction)\nwith distinct s,Activities,trialid,sr.uid as StudyRoot, collect(r0.status) as statuses ,collect(r0.version) as versions, type(r1) as Latest,sact.date as date order by StudyRoot, sact.date\nwith s,Activities,StudyRoot, s.study_acronym as acronym, trialid, split(apoc.temporal.format(date, 'iso_local_date_time'),'.')[0] as Date, case when 'LOCKED' in statuses then 'LOCKED' else 'DRAFT' END as Status,\napoc.text.join(apoc.coll.toSet(versions),'') as Version,Latest \nreturn StudyRoot, trialid, acronym, Date, Version, Latest,Status, Activities, id(s) as sid\norder by trialid\"\n], \"return null\",{a:$neodash_study_activity}) YIELD value\nreturn value.StudyRoot as StudyRoot, \nvalue.trialid as `Trial ID`, \nvalue.acronym as Acronym, \nvalue.Date as Date, \nvalue.Version as Version, \nvalue.Latest as Latest,\nvalue.Status as Status, \nvalue.Activities as Activities, \nvalue.sid as __sid\n",
          "width": 16,
          "height": 4,
          "x": 8,
          "y": 0,
          "type": "table",
          "selection": {},
          "settings": {
            "compact": true,
            "allowDownload": true,
            "wrapContent": true,
            "refreshButtonEnabled": true,
            "transposed": false,
            "actionsRules": [
              {
                "condition": "Click",
                "field": "Trial ID",
                "value": "__sid",
                "customization": "set variable",
                "customizationValue": "study_act_select"
              }
            ],
            "columnWidths": "[1,1.4,1,1,1,1,1.0]"
          }
        },
        {
          "id": "172b542c-1a10-4a90-b92d-6d952d606c0a",
          "title": "Operator",
          "query": "WITH ['AND','OR'] as operators UNWIND operators as operator\nWITH operator WHERE toLower(operator) CONTAINS toLower($input) \nRETURN DISTINCT operator as value,  operator as display ORDER BY display DESC\n\n\n\n",
          "width": 4,
          "height": 2,
          "x": 0,
          "y": 2,
          "type": "select",
          "selection": {},
          "settings": {
            "type": "Custom Query",
            "entityType": "Operator",
            "parameterName": "neodash_operator",
            "autoSelectFirstValue": true
          },
          "schema": []
        },
        {
          "id": "7eb534ff-bee8-40b8-8838-10c9beb94de6",
          "title": "Study Selection",
          "query": "MATCH (s:StudyValue) where id(s) = $neodash_study_act_select \nWITH s, CASE WHEN s.subpart_id is not null THEN s.study_id_prefix+'-'+s.study_number+'-'+s.subpart_id ELSE s.study_id_prefix+'-'+s.study_number END as `Trial ID`\nreturn `Trial ID`\n\n",
          "width": 11,
          "height": 2,
          "x": 0,
          "y": 4,
          "type": "value",
          "selection": {},
          "settings": {
            "fontSize": 20,
            "backgroundColor": "lightyellow"
          },
          "schema": []
        },
        {
          "id": "0d47cf70-f4e9-4306-bfee-5b546d5eeaed",
          "title": "Study Description",
          "query": "match (s)-[r1]->(txt:StudyField) where txt.field_name is not null and id(s)=toInteger($neodash_study_act_select)\noptional match (txt)-[r2]->(:CTTermRoot)-[r3:HAS_NAME_ROOT]->(:CTTermNameRoot)-[r4:LATEST]->(term)\noptional match (txt)-[r5]->(x)-[:LATEST]->(term2)\nwith distinct s,term, term2, apoc.text.capitalize(apoc.text.join(split(txt.field_name,'_'),' ')) as field ,txt.value as value\nwith s, field, value, term, collect(term2.name) as term2\nwith s, field, CASE WHEN term is not null then term.name else CASE WHEN size(term2)>0 then apoc.text.join(term2,',') ELSE value END END as value\nwith s, field,value where not field contains 'null value code'\nwith distinct field,value\nreturn field as `Study Field`,\nvalue as Value",
          "width": 13,
          "height": 8,
          "x": 11,
          "y": 4,
          "type": "table",
          "selection": {},
          "settings": {
            "refreshButtonEnabled": true,
            "fullscreenEnabled": true,
            "compact": true,
            "wrapContent": true,
            "allowDownload": true
          }
        },
        {
          "id": "0c5e2df6-d65f-420b-9a35-f72c22dd2c38",
          "title": "Objectives/Endpoints",
          "query": "match(s:StudyValue) where id(s)=toInteger($neodash_study_act_select)\noptional match (s)-[r3]->(endp:StudyEndpoint)-[r3_1]->(endp_val:EndpointValue)\noptional match (s)-[r4]->(obj:StudyObjective)-[r4_1]->(obj_val:ObjectiveValue)\nmatch(endp)-[:STUDY_ENDPOINT_HAS_STUDY_OBJECTIVE]->(obj)\nwith s, obj, obj_val, endp, endp_val,\n'Obj '+toString(obj.order) + ' - Endp '+toString(endp.order) as Number,\nobj_val.name_plain as Objective, \nendp_val.name_plain as Endpoint\nreturn Number, Objective, Endpoint\n\n\n",
          "width": 11,
          "height": 6,
          "x": 0,
          "y": 6,
          "type": "table",
          "selection": {},
          "settings": {
            "refreshButtonEnabled": true,
            "fullscreenEnabled": true,
            "compact": true,
            "wrapContent": true,
            "allowDownload": true
          }
        },
        {
          "id": "473fee31-bf53-421f-9e1e-553063c9d8aa",
          "title": "SoA (Activity Instances)",
          "query": "match(s:StudyValue) where id(s) = toInteger($neodash_study_act_select )\noptional match(s)-[:HAS_STUDY_VISIT]->(v:StudyVisit)\nwith s, v order by v.visit_number, v.short_visit_label\nwith s, collect(distinct v.short_visit_label) as vis_total\noptional match(s)-[:HAS_STUDY_VISIT]->(vis:StudyVisit)\noptional match(vis)-[:HAS_VISIT_NAME]->(vis_name_root)-[:HAS_VERSION]->(vis_name:VisitNameValue)\noptional match(vis)-[:STUDY_VISIT_HAS_SCHEDULE]->(schedule:StudyActivitySchedule)\noptional match (s)-[:HAS_STUDY_ACTIVITY_SCHEDULE]->(schedule),\n(schedule)<-[:STUDY_ACTIVITY_HAS_SCHEDULE]-(s_act:StudyActivity),\n(s_act)-[:HAS_SELECTED_ACTIVITY]->(act_val:ActivityValue),(s_act)-[:STUDY_ACTIVITY_HAS_STUDY_ACTIVITY_INSTANCE]->(ai_s:StudyActivityInstance)-[:HAS_SELECTED_ACTIVITY_INSTANCE]-(ai:ActivityInstanceValue),\n(ai)-[r1]->(g)<-[r2]-(act_val) where act_val.name in $neodash_study_activity\nwith distinct  schedule, ai.topic_code as TOPIC_CODE, vis_total, vis.short_visit_label as `Visit Short Label`,vis.visit_number as `Visit ID`\nwhere TOPIC_CODE is not null \nWith schedule,TOPIC_CODE, `Visit Short Label` as Visits  order by `Visit ID`, `Visit Short Label`, schedule.uid\nwith  Visits, collect(TOPIC_CODE) as `TOPIC CODES`\nreturn Visits, `TOPIC CODES`",
          "width": 24,
          "height": 8,
          "x": 0,
          "y": 12,
          "type": "table",
          "selection": {},
          "settings": {
            "refreshButtonEnabled": true,
            "fullscreenEnabled": true,
            "transposed": true,
            "compact": true,
            "wrapContent": true,
            "allowDownload": true
          }
        },
        {
          "id": "1a373038-0fdc-4d48-a4b8-c95bdda225c2",
          "title": "Show Only Latest",
          "query": "WITH ['Y','N'] as operators UNWIND operators as operator\nWITH operator WHERE toLower(operator) CONTAINS toLower($input) \nRETURN DISTINCT operator as value,  operator as display ORDER BY display DESC\n\n\n\n",
          "width": 4,
          "height": 2,
          "x": 4,
          "y": 2,
          "type": "select",
          "selection": {},
          "settings": {
            "type": "Custom Query",
            "autoSelectFirstValue": true,
            "entityType": "Show latest",
            "parameterName": "neodash_show_latest"
          },
          "schema": []
        }
      ]
    },
    {
      "title": "Search Activity Instance",
      "reports": [
        {
          "id": "6f9c5975-0be0-4f25-8a7d-f7f3584cec16",
          "title": "Select Activity Instance (One or More)",
          "query": "MATCH (n:`ActivityInstanceValue`)<-[:LATEST]-()\nWHERE toLower(toString(n.`name`)) CONTAINS toLower($input) \nRETURN DISTINCT n.`name` as value,  n.`name` as display ORDER BY size(toString(value)) ASC",
          "width": 24,
          "height": 2,
          "x": 0,
          "y": 0,
          "type": "select",
          "selection": {},
          "settings": {
            "type": "Custom Query",
            "entityType": "ai",
            "parameterName": "neodash_ai",
            "multiSelector": true,
            "multiline": true
          },
          "schema": []
        },
        {
          "id": "a8d99ae6-9c80-44e5-b480-49e768f3732b",
          "title": "Detail of Selected Instances",
          "query": "MATCH\n  (act:ActivityValue)-[R1:HAS_GROUPING]->\n  (g:ActivityGrouping)-[R2:IN_SUBGROUP]->\n  (sg:ActivityValidGroup)<-[R3:HAS_GROUP]-\n  (asgrp:ActivitySubGroupValue),\n  (sg)-[R4:IN_GROUP]->(agrp:ActivityGroupValue)\nMATCH\n  (g:ActivityGrouping)<-[R5:HAS_ACTIVITY]-\n  (ai:ActivityInstanceValue)-[R6:CONTAINS_ACTIVITY_ITEM]->\n  (aitm1:ActivityItem),\n  (ai)<-[:LATEST]-()\nWHERE ai.name IN $neodash_ai\nOPTIONAL MATCH\n  (ai)-[R7:ACTIVITY_INSTANCE_CLASS]->\n  (aicr:ActivityInstanceClassRoot)-[R8:LATEST]->\n  (aic:ActivityInstanceClassValue)\nOPTIONAL MATCH\n  (aitm1)<-[R9:HAS_ACTIVITY_ITEM]-\n  (aitmc1r:ActivityItemClassRoot)-[R10:LATEST]->\n  (aitmc1:ActivityItemClassValue)\nOPTIONAL MATCH\n  (aicr)-[R11:PARENT_CLASS]->\n  (aicrp:ActivityInstanceClassRoot)-[R12:LATEST]->\n  (aicp:ActivityInstanceClassValue)\nOPTIONAL MATCH\n  (aicrp)-[R13:PARENT_CLASS]->\n  (aicrpp:ActivityInstanceClassRoot)-[R14:LATEST]->\n  (aicpp:ActivityInstanceClassValue)\nOPTIONAL MATCH (aitmc1r)<-[is_mandatory_data1:HAS_ITEM_CLASS]-(aicr)\nOPTIONAL MATCH (aitmc1r)<-[is_mandatory_data2:HAS_ITEM_CLASS]-(aicrp)\nOPTIONAL MATCH (aitmc1r)<-[is_mandatory_data3:HAS_ITEM_CLASS]-(aicrpp)\n//Terms\nOPTIONAL MATCH\n  (aitm1)-[R18:HAS_CT_TERM]->\n  (ct_context:CTTermContext)-[R19:HAS_SELECTED_TERM]->\n  (ct2cd:CTTermRoot)-[R20:HAS_NAME_ROOT]->\n  (ct2cdr:CTTermNameRoot)-[R21:LATEST]->\n  (ct2_sponsor),\n  (ct2cd)-[R22:HAS_ATTRIBUTES_ROOT]->\n  (ct2att:CTTermAttributesRoot)-[R23:LATEST]->\n  (ct2_cdisc),\n  (ct2cd)<-[R24:HAS_TERM_ROOT]-\n  (term:CTCodelistTerm)<-[R25:HAS_TERM]-\n  (clr:CTCodelistRoot)<-[R26:HAS_SELECTED_CODELIST]-\n  (ct_context),\n  (ct2cd)<-[R27:CONTAINS_TERM]-(lib:Library)\nOPTIONAL MATCH\n  (ct_context)<-[R28:HAS_CT_DIMENSION]-(pos_units_in_dim:UnitDefinitionValue)\nOPTIONAL MATCH\n  (aitm1)-[R29:HAS_UNIT_DEFINITION]->\n  (unitdefr:UnitDefinitionRoot)-[R30:LATEST]->\n  (unitdef:UnitDefinitionValue)-[:HAS_CT_UNIT]->\n  (ct_context_unit:CTTermContext)-[:HAS_SELECTED_TERM]->\n  (unit_code:CTTermRoot)-[:HAS_NAME_ROOT]->\n  (:CTTermNameRoot)-[:LATEST]->\n  (unit_sponsor),\n  (unit_code)-[:HAS_ATTRIBUTES_ROOT]->\n  (:CTTermAttributesRoot)-[:LATEST]->\n  (unit_cdisc),\n  (unitdef)-[R31:HAS_CT_DIMENSION]->\n  (ct_context2)-[R32:HAS_SELECTED_CODELIST]->\n  (cl_unit_root:CTCodelistRoot),\n  (cl_unit_root)-[R33:HAS_ATTRIBUTES_ROOT]-\n  (cl_unit_att:CTCodelistAttributesRoot)-[R34:LATEST]->\n  (cl_unit_cdisc:CTCodelistAttributesValue)\nOPTIONAL MATCH\n  (cl_unit_root)-[R35:HAS_NAME_ROOT]->\n  (clunit_attr:CTCodelistNameRoot)-[R36:LATEST]-\n  (cl_unit_sponsor)\nOPTIONAL MATCH\n  (clr:CTCodelistRoot)-[R37:HAS_ATTRIBUTES_ROOT]->\n  (clatt:CTCodelistAttributesRoot)-[R38:LATEST]->\n  (cl_cdisc:CTCodelistAttributesValue)\nOPTIONAL MATCH\n  (clr)-[R39:HAS_NAME_ROOT]->\n  (clattr:CTCodelistNameRoot)-[R40:LATEST]-\n  (cl_sponsor)\nOPTIONAL MATCH\n  (aitmc1)-[R41:HAS_ROLE]->\n  (ct_context_role)-[R42:HAS_SELECTED_TERM]->\n  (role_r:CTTermRoot)-[R43:HAS_NAME_ROOT]->\n  (ctnr_role)-[R44:LATEST]->\n  (role_val)\nOPTIONAL MATCH\n  (aitmc1)-[R45:HAS_DATA_TYPE]->\n  (ct_context_dtype)-[R46:HAS_SELECTED_TERM]->\n  (dtype_r),\n  (dtype_r)-[R47:HAS_NAME_ROOT]->(ctnr_dtype)-[R48:LATEST]->(dtype_val)\nWITH\n  agrp.name AS `Activity Group`,\n  asgrp.name AS `Activity Subgroup`,\n  act.name AS Activity,\n  ai.adam_param_code AS `Activity Instance`,\n  aitmc1.name AS `Activity Item Class`,\n  CASE\n    WHEN aitmc1.name = \"unit_dimension\" THEN pos_units_in_dim.name\n    ELSE\n      CASE\n        WHEN\n          ct2cd IS NOT NULL\n          THEN coalesce(ct2_cdisc.preferred_term, ct2_sponsor.name)\n        ELSE\n          CASE\n            WHEN\n              unitdefr IS NOT NULL\n              THEN coalesce(unit_cdisc.preferred_term, unit_sponsor.name)\n          END\n      END\n  END AS terms,\n  CASE\n    WHEN clr IS NOT NULL THEN coalesce(cl_cdisc.preferred_term, cl_sponsor.name)\n    ELSE\n      CASE\n        WHEN\n          cl_unit_root IS NOT NULL\n          THEN coalesce(cl_unit_cdisc.preferred_term, cl_unit_sponsor.name)\n      END\n  END AS `Code List`,\n  role_val.name AS Role,\n  dtype_val.name AS `Data Type`\nRETURN\n  `Activity Instance`,\n  `Activity Item Class`,\n  apoc.text.join(collect(DISTINCT terms), \",\") AS Term,\n  `Code List`,\n  Role,\n  `Data Type`,\n  Activity,\n  `Activity Subgroup`,\n  `Activity Group`",
          "width": 24,
          "height": 7,
          "x": 0,
          "y": 2,
          "type": "table",
          "selection": {},
          "settings": {
            "compact": true,
            "allowDownload": true,
            "wrapContent": true
          }
        }
      ]
    }
  ],
  "parameters": {},
  "extensions": {
    "advanced-charts": {
      "active": true
    },
    "styling": {
      "active": true
    },
    "active": true,
    "activeReducers": [
      "DASHBOARD/EXTENSIONS/QUERY_TRANSLATOR/"
    ],
    "query-translator": {
      "active": true,
      "modelProvider": "OpenAI",
      "settings": {
        "modelType": "gpt-3.5-turbo-16k"
      }
    },
    "actions": {
      "active": true
    },
    "forms": {
      "active": true
    }
  },
  "uuid": "f0cb123d-6812-4cfc-8c8f-2fa3c0ed1792"
}